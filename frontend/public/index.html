<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Oriental Insurance Company Ltd.</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #d4c4a0 0%, #c2a882 50%, #a8956b 100%);
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 0.1) 1px, transparent 1px),
                linear-gradient(0deg, transparent 0%, rgba(0, 0, 0, 0.1) 1px, transparent 1px),
                radial-gradient(circle at 20% 80%, rgba(160, 140, 120, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(140, 125, 105, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(180, 165, 140, 0.2) 0%, transparent 50%);
            background-size: 50px 50px, 50px 50px, 100% 100%, 100% 100%, 100% 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .office-container {
            position: relative;
            width: 100%;
            height: 100vh;
            background: linear-gradient(180deg, rgba(220, 205, 185, 0.95) 0%, rgba(200, 185, 165, 0.95) 100%);
            backdrop-filter: blur(10px);
            perspective: 1500px;
            overflow: hidden;
            z-index: 2;
        }
        
        /* Realistic ceiling with tiles */
        .ceiling {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 20%;
            background: 
                linear-gradient(90deg, #e8e0d0 0%, #ddd5c5 1px, #ddd5c5 calc(60px - 1px), #c8c0b0 60px),
                linear-gradient(0deg, #e8e0d0 0%, #ddd5c5 1px, #ddd5c5 calc(60px - 1px), #c8c0b0 60px),
                linear-gradient(135deg, #e8e0d0 0%, #ddd5c5 50%, #d0c8b8 100%);
            background-size: 60px 60px;
            transform: perspective(1500px) rotateX(70deg);
            transform-origin: bottom;
            animation: ceilingSubtle 12s ease-in-out infinite;
            box-shadow: 
                inset 0 0 50px rgba(0, 0, 0, 0.08),
                0 8px 30px rgba(0, 0, 0, 0.12);
        }
        
        /* Realistic ceiling lights */
        .ceiling-light {
            position: absolute;
            width: 40px;
            height: 40px;
            background: 
                radial-gradient(circle, #ffffff 0%, rgba(255, 255, 255, 0.9) 30%, rgba(248, 246, 240, 0.6) 60%, transparent 80%);
            border-radius: 50%;
            box-shadow: 
                0 0 20px rgba(255, 255, 255, 0.8),
                0 0 40px rgba(248, 246, 240, 0.4),
                inset 0 0 15px rgba(255, 255, 255, 0.6);
            animation: lightGlow 6s ease-in-out infinite;
            filter: blur(0.5px);
        }
        
        .light-1 { 
            top: 3%; 
            left: 15%; 
            animation-delay: 0s;
        }
        .light-2 { 
            top: 3%; 
            left: 50%; 
            animation-delay: 1.6s;
        }
        .light-3 { 
            top: 3%; 
            left: 85%; 
            animation-delay: 3.2s;
        }
        
        /* Professional floor design */
        .floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40%;
            background: 
                linear-gradient(135deg, 
                    rgba(200, 180, 150, 0.95) 0%, 
                    rgba(185, 165, 135, 0.95) 25%,
                    rgba(170, 150, 120, 0.95) 50%,
                    rgba(155, 135, 105, 0.95) 75%,
                    rgba(140, 120, 90, 0.95) 100%);
            transform: perspective(1500px) rotateX(85deg);
            transform-origin: bottom;
            box-shadow: 
                0 -20px 40px rgba(0, 0, 0, 0.15),
                inset 0 0 80px rgba(140, 120, 90, 0.4);
            animation: floorSubtle 15s ease-in-out infinite;
        }
        
        .floor::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 30px,
                    rgba(200, 190, 170, 0.1) 30px,
                    rgba(200, 190, 170, 0.1) 32px
                );
            animation: floorTiles 20s linear infinite;
        }
        
        /* Professional back wall */
        .back-wall {
            position: absolute;
            top: 20%;
            left: 0;
            width: 100%;
            height: 60%;
            background: 
                linear-gradient(180deg, 
                    rgba(245, 240, 225, 0.98) 0%, 
                    rgba(235, 230, 215, 0.98) 50%,
                    rgba(225, 220, 205, 0.98) 100%);
            box-shadow: 
                inset 0 15px 40px rgba(0, 0, 0, 0.03),
                inset 0 0 100px rgba(200, 190, 170, 0.2);
            backdrop-filter: blur(5px);
        }
        
        /* Luxurious reception area */
        .reception-area {
            position: absolute;
            left: 8%;
            bottom: 40%;
            width: 25%;
            height: 20%;
            z-index: 10;
            animation: slideInLeft 1.2s ease-out;
        }
        
        .reception-desk {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70%;
            background: 
                linear-gradient(145deg, 
                    #d2b48c 0%, 
                    #bc9a6a 50%, 
                    #a0845c 100%);
            border-radius: 20px 20px 0 0;
            box-shadow: 
                0 15px 40px rgba(210, 180, 140, 0.4),
                0 5px 15px rgba(188, 154, 106, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.3),
                0 0 0 3px rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        /* Reception chairs behind the desk */
        .reception-chair {
            position: absolute;
            width: 35px;
            height: 45px;
            z-index: 5;
        }
        
        .reception-chair-1 {
            bottom: 75%;
            left: 20%;
            animation: slideInLeft 1.4s ease-out 0.2s both;
        }
        
        .reception-chair-2 {
            bottom: 75%;
            right: 20%;
            animation: slideInLeft 1.4s ease-out 0.4s both;
        }
        
        .chair-back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: linear-gradient(145deg, #8B4513, #654321);
            border-radius: 15px 15px 5px 5px;
            box-shadow: 
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
        }
        
        .chair-seat {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(145deg, #A0522D, #8B4513);
            border-radius: 12px;
            box-shadow: 
                0 3px 10px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .chair-legs {
            position: absolute;
            bottom: -8px;
            left: 5px;
            width: 4px;
            height: 12px;
            background: #654321;
            border-radius: 2px;
            box-shadow: 
                7px 0 0 #654321,
                19px 0 0 #654321,
                26px 0 0 #654321;
        }
        
        .reception-desk::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 3s ease-in-out infinite;
        }
        
        .reception-desk:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 25px 60px rgba(210, 180, 140, 0.5),
                0 10px 25px rgba(188, 154, 106, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                0 0 0 3px rgba(255, 255, 255, 0.2);
        }
        
        .desk-top {
            position: absolute;
            top: -12px;
            left: -10px;
            width: calc(100% + 20px);
            height: 24px;
            background: 
                linear-gradient(145deg, 
                    #e6d3a3 0%, 
                    #d2b48c 50%, 
                    #bc9a6a 100%);
            border-radius: 15px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
        }
        
        /* Simple company branding - text only */
        .company-branding {
            position: fixed;
            left: 30px;
            top: 30px;
            text-align: left;
            z-index: 50;
            animation: slideInLeft 1.5s ease-out 0.5s both;
        }
        
        .logo {
            width: 120px;
            height: 120px;
            background: 
                linear-gradient(135deg, 
                    #667eea 0%, 
                    #764ba2 25%, 
                    #f093fb 50%, 
                    #667eea 75%, 
                    #764ba2 100%);
            border-radius: 50%;
            margin: 0 20px 0 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 20px 60px rgba(102, 126, 234, 0.5),
                0 12px 30px rgba(118, 75, 162, 0.4),
                0 0 0 6px rgba(255, 255, 255, 0.9),
                0 0 0 12px rgba(102, 126, 234, 0.15),
                inset 0 0 40px rgba(255, 255, 255, 0.3);
            animation: logoRotateGlow 12s linear infinite;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            vertical-align: middle;
        }
        
        .logo::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                conic-gradient(
                    from 0deg, 
                    transparent, 
                    rgba(255, 255, 255, 0.3), 
                    transparent, 
                    rgba(255, 255, 255, 0.3), 
                    transparent
                );
            animation: logoInnerSpin 8s linear infinite reverse;
        }
        
        .logo:hover {
            transform: scale(1.15) rotate(10deg);
            box-shadow: 
                0 30px 80px rgba(102, 126, 234, 0.7),
                0 15px 40px rgba(118, 75, 162, 0.5),
                0 0 0 8px rgba(255, 255, 255, 0.95),
                0 0 0 16px rgba(102, 126, 234, 0.25);
        }
        
        .logo-symbol {
            color: #ffffff;
            font-size: 3rem;
            font-weight: 900;
            text-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(255, 255, 255, 0.6);
            z-index: 2;
            position: relative;
        }
        
        .logo-image {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: contain;
            background: white;
            padding: 3px;
            z-index: 2;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .brand-text {
            display: inline-block;
            vertical-align: middle;
        }
        
        .company-name {
            color: #2c3e50;
            font-size: 36px;
            font-weight: 900;
            text-shadow: 
                0 3px 12px rgba(0, 0, 0, 0.15),
                0 0 30px rgba(102, 126, 234, 0.4);
            line-height: 1.1;
            margin-bottom: 10px;
            letter-spacing: 1.2px;
            background: linear-gradient(135deg, #2c3e50, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
        }
        
        .company-subtitle {
            color: #6c757d;
            font-size: 14px;
            font-weight: 700;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.12);
            letter-spacing: 0.8px;
            text-transform: uppercase;
        }
        
        /* Animated professional receptionist */
        .receptionist {
            position: absolute;
            left: 50%;
            bottom: 45%;
            transform: translateX(-50%);
            z-index: 15;
            cursor: pointer;
            animation: slideInCenter 1.5s ease-out 0.8s both;
            transition: transform 0.3s ease;
        }
        
        .receptionist:hover {
            transform: translateX(-50%) scale(1.05);
        }
        
        .person {
            position: relative;
            width: 120px;
            height: 180px;
            animation: personBreathe 3s ease-in-out infinite;
        }
        
        .person-head {
            width: 60px;
            height: 60px;
            background: linear-gradient(145deg, #f4c2a1, #e8a87c);
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 30px;
            border: 3px solid #fff;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            animation: headNod 4s ease-in-out infinite;
            overflow: visible;
        }
        
        .person-head::before {
            content: '';
            position: absolute;
            top: 18px;
            left: 15px;
            width: 8px;
            height: 2px;
            background: #8B4513;
            border-radius: 2px;
            transform: rotate(-15deg);
            box-shadow: 14px 0 0 #8B4513;
        }
        
        .person-head::after {
            content: '';
            position: absolute;
            top: 25px;
            left: 8px;
            width: 6px;
            height: 6px;
            background: rgba(255, 182, 193, 0.6);
            border-radius: 50%;
            box-shadow: 32px 0 0 rgba(255, 182, 193, 0.6);
        }
        
        .person-hair {
            position: absolute;
            top: -15px;
            left: 15px;
            width: 50px;
            height: 45px;
            background: linear-gradient(145deg, #3d2914, #2a1a0e);
            border-radius: 50px 50px 25px 25px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.4);
        }
        
        .person-hair::before {
            content: '';
            position: absolute;
            top: 25px;
            left: -8px;
            width: 25px;
            height: 35px;
            background: linear-gradient(145deg, #3d2914, #2a1a0e);
            border-radius: 15px 5px 20px 15px;
            transform: rotate(-15deg);
        }
        
        .person-hair::after {
            content: '';
            position: absolute;
            top: 25px;
            right: -8px;
            width: 25px;
            height: 35px;
            background: linear-gradient(145deg, #3d2914, #2a1a0e);
            border-radius: 5px 15px 15px 20px;
            transform: rotate(15deg);
        }
        
        .person-body {
            width: 85px;
            height: 100px;
            background: linear-gradient(145deg, #2c5aa0, #1e3d6f);
            position: absolute;
            top: 55px;
            left: 17px;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 8px 25px rgba(44, 90, 160, 0.3);
        }
        
        .person-blazer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(145deg, #1a365d, #2c5aa0);
            border-radius: 15px 15px 8px 8px;
        }
        
        .person-shirt {
            position: absolute;
            top: 15px;
            left: 25px;
            width: 35px;
            height: 50px;
            background: linear-gradient(145deg, #ffffff, #f7fafc);
            border-radius: 0 0 5px 5px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .person-arms {
            position: absolute;
            top: 70px;
            left: -12px;
            width: 22px;
            height: 50px;
            background: linear-gradient(145deg, #2c5aa0, #1e3d6f);
            border-radius: 15px;
            box-shadow: 
                106px 0 0 rgba(44, 90, 160, 1),
                0 4px 15px rgba(0,0,0,0.2);
        }
        
        .person-hands {
            position: absolute;
            bottom: -8px;
            left: -3px;
            width: 16px;
            height: 16px;
            background: linear-gradient(145deg, #f4c2a1, #e8a87c);
            border-radius: 50%;
            box-shadow: 
                112px 0 0 #f4c2a1,
                0 2px 5px rgba(0,0,0,0.15);
        }
        
        .person-collar {
            position: absolute;
            top: 60px;
            left: 30px;
            width: 55px;
            height: 25px;
            background: #fff;
            border-radius: 0 0 25px 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .person-collar::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 20px;
            width: 15px;
            height: 15px;
            background: linear-gradient(45deg, #2c5aa0, #1e3d6f);
            transform: rotate(45deg);
            border-radius: 2px;
        }
        
        .person-face-features {
            position: absolute;
            top: 15px;
            left: 20px;
            width: 20px;
            height: 25px;
        }
        
        .person-eyes {
            position: absolute;
            top: 5px;
            left: 2px;
            width: 4px;
            height: 4px;
            background: #2d3748;
            border-radius: 50%;
            box-shadow: 10px 0 0 #2d3748;
        }
        
        .person-eyes::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -1px;
            width: 6px;
            height: 3px;
            background: #2d3748;
            border-radius: 50% 50% 0 0;
            transform: rotate(-15deg);
        }
        
        .person-eyes::after {
            content: '';
            position: absolute;
            top: -2px;
            left: 9px;
            width: 6px;
            height: 3px;
            background: #2d3748;
            border-radius: 50% 50% 0 0;
            transform: rotate(15deg);
        }
        
        .person-nose {
            position: absolute;
            top: 12px;
            left: 7px;
            width: 3px;
            height: 4px;
            background: rgba(232, 168, 124, 0.8);
            border-radius: 50% 50% 50% 50%;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .person-mouth {
            position: absolute;
            top: 18px;
            left: 5px;
            width: 10px;
            height: 6px;
            background: #d63384;
            border-radius: 0 0 12px 12px;
            box-shadow: inset 0 2px 3px rgba(0,0,0,0.2);
            transform: rotate(0deg);
        }
        
        .person-mouth::before {
            content: '';
            position: absolute;
            top: -3px;
            left: 1px;
            width: 8px;
            height: 4px;
            background: rgba(214, 51, 132, 0.4);
            border-radius: 50%;
            transform: scaleY(0.7);
        }
        
        .person-mouth::after {
            content: '';
            position: absolute;
            top: 1px;
            left: 3px;
            width: 4px;
            height: 2px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
        }
        
        /* Enhanced chat bubble */
        .chat-bubble {
            position: absolute;
            bottom: 45%;
            left: 40%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 25px;
            border-radius: 25px 25px 25px 8px;
            box-shadow: 
                0 15px 40px rgba(102, 126, 234, 0.4),
                0 5px 20px rgba(118, 75, 162, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            max-width: 350px;
            z-index: 1000;
            animation: chatFloat 3s ease-in-out infinite;
            backdrop-filter: blur(15px);
            border: 3px solid rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .chat-bubble::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 70%);
            transform: rotate(45deg);
            animation: shimmer 4s ease-in-out infinite;
            pointer-events: none;
        }
        
        .chat-bubble:hover {
            transform: translateX(-50%) translateY(-8px) scale(1.05);
            box-shadow: 
                0 25px 60px rgba(102, 126, 234, 0.5),
                0 10px 30px rgba(118, 75, 162, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
        }
        
        .chat-bubble.typing {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-color: rgba(79, 172, 254, 0.4);
            animation: chatPulse 1.5s ease-in-out infinite;
        }
        
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 4px;
        }
        
        .typing-indicator.show {
            display: flex;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
            animation: typingDots 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typingDots {
            0%, 60%, 100% { transform: scale(1); opacity: 0.5; }
            30% { transform: scale(1.2); opacity: 1; }
        }
        
        .chat-icon {
            font-size: 24px;
            margin-right: 8px;
            filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.3));
            position: relative;
            z-index: 2;
        }
        
        .chat-text {
            color: #ffffff;
            font-size: 15px;
            font-weight: 600;
            display: inline;
            vertical-align: middle;
            line-height: 1.4;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
        }
        
        /* Streamlined service desks - 3D Rotated Style */
        .service-desks {
            position: absolute;
            right: 5%;
            top: 18%;
            width: 35%;
            height: 20%;
            z-index: 10;
            animation: slideInRight 1.2s ease-out 0.3s both;
            perspective: 1000px;
        }
        
        .desk-row {
            display: flex;
            justify-content: space-between;
            height: 100%;
            gap: 20px;
        }
        
        .service-desk {
            flex: 1;
            position: relative;
            transition: transform 0.3s ease;
            transform: rotateX(10deg) rotateY(-15deg);
        }
        
        .service-desk:hover {
            transform: rotateX(15deg) rotateY(-10deg) translateY(-10px) scale(1.05);
        }
        
        .desk-structure {
            width: 100%;
            height: 70%;
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            border-radius: 12px 12px 0 0;
            position: absolute;
            bottom: 0;
            box-shadow: 
                0 15px 35px rgba(231, 76, 60, 0.4),
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            animation: deskGlow 4s ease-in-out infinite;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .desk-structure::before {
            content: '';
            position: absolute;
            top: -12px;
            left: -6px;
            width: calc(100% + 12px);
            height: 20px;
            background: linear-gradient(145deg, #ec7063, #e74c3c);
            border-radius: 12px;
            filter: brightness(1.2);
            box-shadow: 
                0 0 20px rgba(231, 76, 60, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
        }
        
        .desk-structure::after {
            content: '';
            position: absolute;
            top: 0;
            right: -8px;
            width: 8px;
            height: 100%;
            background: linear-gradient(180deg, #c0392b, #a93226);
            border-radius: 0 0 8px 0;
        }
        
        .service-desk:nth-child(2) {
            transform: rotateX(8deg) rotateY(-12deg);
        }
        
        .service-desk:nth-child(2):hover {
            transform: rotateX(12deg) rotateY(-8deg) translateY(-10px) scale(1.05);
        }
        
        .service-desk:nth-child(2) .desk-structure {
            background: linear-gradient(145deg, #3498db, #2980b9);
            box-shadow: 
                0 15px 35px rgba(52, 152, 219, 0.4),
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            animation-delay: 1.3s;
        }
        
        .service-desk:nth-child(2) .desk-structure::before {
            background: linear-gradient(145deg, #5dade2, #3498db);
            box-shadow: 
                0 0 20px rgba(52, 152, 219, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
        }
        
        .service-desk:nth-child(2) .desk-structure::after {
            background: linear-gradient(180deg, #2980b9, #2471a3);
        }
        
        .service-desk:nth-child(3) {
            transform: rotateX(12deg) rotateY(-18deg);
        }
        
        .service-desk:nth-child(3):hover {
            transform: rotateX(18deg) rotateY(-12deg) translateY(-10px) scale(1.05);
        }
        
        .service-desk:nth-child(3) .desk-structure {
            background: linear-gradient(145deg, #9b59b6, #8e44ad);
            box-shadow: 
                0 15px 35px rgba(155, 89, 182, 0.4),
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            animation-delay: 2.6s;
        }
        
        .service-desk:nth-child(3) .desk-structure::before {
            background: linear-gradient(145deg, #bb8fce, #9b59b6);
            box-shadow: 
                0 0 20px rgba(155, 89, 182, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
        }
        
        .service-desk:nth-child(3) .desk-structure::after {
            background: linear-gradient(180deg, #8e44ad, #7d3c98);
        }
        
        .desk-label {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%) rotateX(-10deg);
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            white-space: nowrap;
            box-shadow: 
                0 8px 20px rgba(0,0,0,0.4),
                0 0 0 1px rgba(255,255,255,0.1);
            animation: labelFloat 3s ease-in-out infinite;
            z-index: 20;
        }
        
        .desk-chair {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%) rotateX(5deg);
            width: 35px;
            height: 40px;
            background: linear-gradient(145deg, #34495e, #2c3e50);
            border-radius: 12px 12px 18px 18px;
            box-shadow: 
                0 8px 20px rgba(0,0,0,0.3),
                inset 0 2px 0 rgba(255,255,255,0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .desk-chair::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -2px;
            width: calc(100% + 4px);
            height: 15px;
            background: linear-gradient(145deg, #4a6078, #34495e);
            border-radius: 8px;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        /* Office plant decoration */
        .office-plant {
            position: absolute;
            right: 5%;
            bottom: 30%;
            width: 40px;
            height: 60px;
            z-index: 12;
        }
        
        .plant-pot {
            position: absolute;
            bottom: 0;
            width: 40px;
            height: 25px;
            background: linear-gradient(145deg, #8D6E63, #6D4C41);
            border-radius: 0 0 20px 20px;
        }
        
        .plant-leaves {
            position: absolute;
            bottom: 20px;
            left: 5px;
            width: 30px;
            height: 40px;
            background: linear-gradient(145deg, #6c757d, #495057);
            border-radius: 15px 15px 5px 5px;
        }
        
        /* Office door in right corner */
        .office-door {
            position: absolute;
            right: 2%;
            top: 50%;
            width: 100px;
            height: 180px;
            background: linear-gradient(145deg, #8b4513, #654321);
            border-radius: 8px 8px 0 0;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.2),
                inset 0 0 0 2px #5d4037;
            z-index: 15;
            transform: perspective(500px) rotateY(-10deg);
            animation: slideInRight 1.5s ease-out 1s both;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .office-door:hover {
            transform: perspective(500px) rotateY(-15deg) scale(1.05);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.3),
                inset 0 0 0 2px #5d4037,
                0 0 20px rgba(255, 215, 0, 0.3);
        }

        .office-door.opening {
            transform: perspective(500px) rotateY(-45deg) scale(1.1);
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                inset 0 0 0 2px #5d4037,
                0 0 30px rgba(255, 215, 0, 0.5);
            animation: doorOpenGlow 0.6s ease-out;
        }

        @keyframes doorOpenGlow {
            0% {
                filter: brightness(1);
            }
            50% {
                filter: brightness(1.3) saturate(1.2);
                box-shadow: 
                    0 25px 60px rgba(0, 0, 0, 0.6),
                    inset 0 2px 0 rgba(255, 255, 255, 0.6),
                    inset 0 0 0 2px #5d4037,
                    0 0 40px rgba(255, 215, 0, 0.8),
                    0 0 60px rgba(255, 215, 0, 0.4);
            }
            100% {
                filter: brightness(1.1);
            }
        }

        /* Door particles effect */
        .door-particles {
            position: absolute;
            pointer-events: none;
            z-index: 1000;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            animation: particleFloat 1s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0);
            }
        }
        
        .office-door::before {
            content: '';
            position: absolute;
            top: 50%;
            right: 15px;
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
            transform: translateY(-50%);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .office-door::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 10px;
            right: 10px;
            bottom: 20px;
            background: linear-gradient(145deg, #a0522d, #8b4513);
            border-radius: 4px;
            border: 2px solid #654321;
        }
        
        /* Door frame */
        .door-frame {
            position: absolute;
            right: 1.5%;
            top: 49%;
            width: 110px;
            height: 190px;
            background: linear-gradient(145deg, #d2b48c, #bc9a6a);
            border-radius: 12px 12px 0 0;
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
            z-index: 14;
            transform: perspective(500px) rotateY(-8deg);
        }
        
        /* Decorative pots in bottom corners */
        .decorative-pot {
            position: absolute;
            width: 80px;
            height: 90px;
            z-index: 20;
            animation: fadeInUp 1.8s ease-out 1.2s both;
        }
        
        .decorative-pot.left {
            left: 3%;
            bottom: 8%;
        }
        
        .decorative-pot.right {
            right: 2%;
            bottom: 8%;
        }
        
        .pot-base {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 45px;
            background: linear-gradient(145deg, #8d4004, #a0522d);
            border-radius: 8px 8px 12px 12px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
        }
        
        .pot-base::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            height: 8px;
            background: linear-gradient(145deg, #cd853f, #a0522d);
            border-radius: 6px;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        .plant {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 50px;
        }
        
        .leaf {
            position: absolute;
            background: linear-gradient(145deg, #228b22, #006400);
            border-radius: 50% 10px 50% 10px;
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .leaf:nth-child(1) {
            width: 25px;
            height: 15px;
            top: 10px;
            left: 10px;
            transform: rotate(-15deg);
            animation: leafSway 4s ease-in-out infinite;
        }
        
        .leaf:nth-child(2) {
            width: 20px;
            height: 12px;
            top: 5px;
            left: 30px;
            transform: rotate(25deg);
            animation: leafSway 4s ease-in-out infinite 0.5s;
        }
        
        .leaf:nth-child(3) {
            width: 22px;
            height: 14px;
            top: 15px;
            left: 45px;
            transform: rotate(-30deg);
            animation: leafSway 4s ease-in-out infinite 1s;
        }
        
        .leaf:nth-child(4) {
            width: 18px;
            height: 11px;
            top: 25px;
            left: 20px;
            transform: rotate(45deg);
            animation: leafSway 4s ease-in-out infinite 1.5s;
        }
        
        .leaf:nth-child(5) {
            width: 24px;
            height: 16px;
            top: 20px;
            left: 35px;
            transform: rotate(-10deg);
            animation: leafSway 4s ease-in-out infinite 2s;
        }

        /* Service desk information displays */
        .desk-info {
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 15px 20px;
            border-radius: 15px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255, 255, 255, 0.3);
            font-size: 11px;
            line-height: 1.4;
            width: 200px;
            text-align: center;
            opacity: 0;
            transform: translateX(-50%) translateY(10px);
            transition: all 0.3s ease;
            z-index: 25;
            color: #2c3e50;
        }
        
        .service-desk:hover .desk-info {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .desk-info h4 {
            margin: 0 0 8px 0;
            font-size: 13px;
            font-weight: 700;
            color: #667eea;
        }
        
        .desk-info ul {
            margin: 0;
            padding-left: 15px;
            text-align: left;
        }
        
        .desk-info li {
            margin-bottom: 3px;
        }
        
        /* Enhanced navigation cards with detailed modals */
        .detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 25px;
            padding: 40px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.2);
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .modal-title {
            font-size: 32px;
            font-weight: 800;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .modal-close {
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-close:hover {
            background: #ff5252;
            transform: scale(1.1);
        }
        
        .modal-section {
            margin-bottom: 30px;
        }
        
        .modal-section h3 {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-section p, .modal-section li {
            font-size: 18px;
            line-height: 1.6;
            color: #495057;
            margin-bottom: 10px;
        }
        
        .modal-section ul {
            padding-left: 20px;
        }

        /* Insurance Type Selection Styles */
        .insurance-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .insurance-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .insurance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 100%);
            pointer-events: none;
        }

        .insurance-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            border-color: #007bff;
        }

        .insurance-card.selected {
            border-color: #007bff;
            background: linear-gradient(135deg, #007bff, #0056b3);
            transform: translateY(-5px);
        }

        .insurance-icon {
            font-size: 40px;
            margin-bottom: 15px;
            display: block;
        }

        .insurance-card h4 {
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: 700;
        }

        .insurance-card p {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.4;
            color: white !important;
        }

        .selected-insurance-display {
            background: #e8f5e8;
            padding: 12px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: 600;
            color: #2e7d32;
        }

        .insurance-badge {
            background: #007bff;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }

        /* Door Modal Specific Styles */
        .door-modal {
            background: linear-gradient(135deg, #8b4513, #654321, #5d4037);
            animation: modalBackdropFade 0.5s ease-out;
        }

        .door-modal .modal-content {
            background: linear-gradient(145deg, #fff, #f5f5f5);
            border: 3px solid #8b4513;
            box-shadow: 
                0 20px 60px rgba(139, 69, 19, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.8),
                0 0 40px rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            animation: doorModalSlideIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-origin: center;
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes modalBackdropFade {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(8px);
            }
        }

        @keyframes doorModalSlideIn {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-10deg) translateY(-100px);
                filter: blur(10px);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.1) rotate(2deg) translateY(0px);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg) translateY(0px);
                filter: blur(0px);
            }
        }

        .door-modal .modal-header {
            background: linear-gradient(135deg, #87ceeb, #add8e6, #b0e0e6);
            color: #8b0000;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
            border-radius: 17px 17px 0 0;
            position: relative;
            overflow: hidden;
            animation: headerGlow 2s ease-in-out infinite alternate;
        }

        .door-modal .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: headerShine 3s ease-in-out infinite;
        }

        @keyframes headerGlow {
            0% {
                box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.3);
            }
            100% {
                box-shadow: inset 0 0 30px rgba(255, 255, 255, 0.5);
            }
        }

        @keyframes headerShine {
            0% {
                left: -100%;
            }
            50% {
                left: 100%;
            }
            100% {
                left: 100%;
            }
        }

        .door-modal .modal-title {
            font-size: 32px;
            text-align: center;
            margin: 0;
            position: relative;
            z-index: 2;
            animation: titleBounce 0.8s ease-out 0.3s both;
        }

        @keyframes titleBounce {
            0% {
                opacity: 0;
                transform: translateY(-30px) scale(0.8);
            }
            60% {
                opacity: 1;
                transform: translateY(5px) scale(1.1);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .door-modal .modal-section {
            background: linear-gradient(145deg, #f9f9f9, #ffffff);
            border: 2px solid #ddd;
            border-radius: 15px;
            margin: 20px 0;
            padding: 25px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
            animation: sectionSlideUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        .door-modal .modal-section:nth-child(2) { animation-delay: 0.1s; }
        .door-modal .modal-section:nth-child(3) { animation-delay: 0.2s; }
        .door-modal .modal-section:nth-child(4) { animation-delay: 0.3s; }
        .door-modal .modal-section:nth-child(5) { animation-delay: 0.4s; }

        @keyframes sectionSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .door-modal .modal-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #8b4513, #ffd700, #8b4513);
            border-radius: 15px 15px 0 0;
        }

        .door-modal .modal-section h3 {
            color: #8b4513;
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: headingGlow 2s ease-in-out infinite alternate;
        }

        @keyframes headingGlow {
            0% {
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            }
            100% {
                text-shadow: 2px 2px 8px rgba(139, 69, 19, 0.3);
            }
        }

        .office-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .office-feature {
            background: linear-gradient(145deg, #ffd700, #ffcc00, #ffb300);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: #8b4513;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 
                0 8px 25px rgba(255, 215, 0, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.5);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            animation: featureFloat 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(50px) rotateY(-20deg);
        }

        .office-feature:nth-child(1) { animation-delay: 0.1s; }
        .office-feature:nth-child(2) { animation-delay: 0.2s; }
        .office-feature:nth-child(3) { animation-delay: 0.3s; }
        .office-feature:nth-child(4) { animation-delay: 0.4s; }
        .office-feature:nth-child(5) { animation-delay: 0.5s; }
        .office-feature:nth-child(6) { animation-delay: 0.6s; }

        @keyframes featureFloat {
            to {
                opacity: 1;
                transform: translateY(0) rotateY(0deg);
            }
        }

        .office-feature::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s ease;
        }

        .office-feature:hover {
            transform: translateY(-10px) scale(1.05) rotateY(5deg);
            box-shadow: 
                0 15px 40px rgba(255, 215, 0, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.7),
                0 0 20px rgba(255, 215, 0, 0.4);
            background: linear-gradient(145deg, #ffdd44, #ffd700, #ffcc00);
        }

        .office-feature:hover::before {
            left: 100%;
        }

        .office-feature i {
            font-size: 28px;
            margin-bottom: 15px;
            display: block;
            animation: iconPulse 2s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        .door-modal .info-card {
            background: linear-gradient(145deg, #e3f2fd, #f0f8ff);
            border: 2px solid #2196f3;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 
                0 8px 25px rgba(33, 150, 243, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            animation: cardGlow 3s ease-in-out infinite alternate;
            position: relative;
            overflow: hidden;
        }

        @keyframes cardGlow {
            0% {
                box-shadow: 
                    0 8px 25px rgba(33, 150, 243, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.8);
            }
            100% {
                box-shadow: 
                    0 12px 35px rgba(33, 150, 243, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.9),
                    0 0 20px rgba(33, 150, 243, 0.1);
            }
        }

        .door-modal .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2196f3, #64b5f6, #2196f3);
            border-radius: 15px 15px 0 0;
        }

        .door-modal .info-card h4 {
            color: #1976d2;
            margin-bottom: 15px;
            font-size: 20px;
            animation: textShimmer 2s ease-in-out infinite alternate;
        }

        @keyframes textShimmer {
            0% {
                text-shadow: 1px 1px 2px rgba(25, 118, 210, 0.3);
            }
            100% {
                text-shadow: 2px 2px 6px rgba(25, 118, 210, 0.6);
            }
        }

        /* Modal close button enhancement */
        .door-modal .modal-close {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 24px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: closeButtonPulse 2s ease-in-out infinite;
        }

        @keyframes closeButtonPulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(255, 107, 107, 0);
            }
        }

        .door-modal .modal-close:hover {
            transform: scale(1.1) rotate(90deg);
            background: linear-gradient(145deg, #ff5252, #f44336);
            box-shadow: 0 8px 20px rgba(255, 82, 82, 0.4);
        }

        /* Feature Modal Styles */
        .feature-modal {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(52, 73, 94, 0.9));
            z-index: 2000;
        }

        .feature-modal .modal-content {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border: 2px solid #3498db;
            border-radius: 15px;
            box-shadow: 
                0 25px 70px rgba(52, 152, 219, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            animation: featureModalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        @keyframes featureModalSlideIn {
            0% {
                opacity: 0;
                transform: scale(0.8) translateY(-50px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .feature-modal .modal-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            border-radius: 13px 13px 0 0;
        }

        .feature-modal .modal-title {
            font-size: 24px;
            text-align: center;
            margin: 0;
        }

        .feature-modal .modal-section {
            padding: 25px;
        }

        .feature-modal .feature-info {
            background: linear-gradient(145deg, #ecf0f1, #bdc3c7);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }

        .feature-modal .feature-info h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .feature-modal .feature-info p {
            color: #34495e;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .feature-modal .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-modal .feature-list li {
            background: #e8f6f3;
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 3px solid #27ae60;
            color: #2c3e50;
        }

        .feature-modal .feature-list li::before {
            content: " ";
            color: #27ae60;
            font-weight: bold;
            margin-right: 8px;
        }

        /* Login/Signup Modal Styles */
        .auth-modal {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(44, 62, 80, 0.9));
            z-index: 1500;
        }

        .auth-modal .modal-content {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border: 3px solid #e74c3c;
            border-radius: 20px;
            box-shadow: 
                0 25px 70px rgba(231, 76, 60, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            animation: authModalSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
        }

        @keyframes authModalSlideIn {
            0% {
                opacity: 0;
                transform: scale(0.7) rotateY(-30deg) translateY(-100px);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg) translateY(0);
            }
        }

        .auth-modal .modal-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            border-radius: 17px 17px 0 0;
            position: relative;
            overflow: hidden;
        }

        .auth-modal .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: authHeaderShine 2s ease-in-out infinite;
        }

        @keyframes authHeaderShine {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        .auth-modal .modal-title {
            font-size: 28px;
            text-align: center;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .auth-tabs {
            display: flex;
            background: #ecf0f1;
            border-radius: 0;
            margin: 0;
            padding: 0;
        }

        .auth-tab {
            flex: 1;
            padding: 15px 20px;
            background: #bdc3c7;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            transition: all 0.3s ease;
            position: relative;
        }

        .auth-tab.active {
            background: linear-gradient(145deg, #3498db, #2980b9);
            color: white;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .auth-tab:hover:not(.active) {
            background: #95a5a6;
            transform: translateY(-2px);
        }

        .auth-form-container {
            padding: 30px;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
            animation: formSlideIn 0.5s ease-out;
        }

        @keyframes formSlideIn {
            0% {
                opacity: 0;
                transform: translateX(20px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .auth-form-group {
            margin-bottom: 20px;
        }

        .auth-form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: bold;
            font-size: 14px;
        }

        .auth-form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .auth-form-group input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }

        .auth-submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(145deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .auth-submit-btn:hover {
            background: linear-gradient(145deg, #2ecc71, #27ae60);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(46, 204, 113, 0.4);
        }

        .auth-divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
            color: #7f8c8d;
        }

        .auth-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #bdc3c7;
            z-index: 1;
        }

        .auth-divider span {
            background: white;
            padding: 0 15px;
            position: relative;
            z-index: 2;
        }

        .social-login-btn {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: bold;
        }

        .social-login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .google-btn {
            border-color: #db4437;
            color: #db4437;
        }

        .google-btn:hover {
            background: #db4437;
            color: white;
        }

        .facebook-btn {
            border-color: #3b5998;
            color: #3b5998;
        }

        .facebook-btn:hover {
            background: #3b5998;
            color: white;
        }
        
        .registration-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 16px;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #5a6fd8, #6c3693);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        /* Policy-specific form sections */
        .policy-specific-fields {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e9ecef;
            margin: 20px 0;
            animation: slideInUp 0.5s ease;
        }
        
        .policy-specific-fields h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Policy preview section */
        .policy-preview {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #c3e6c3;
            margin: 20px 0;
        }
        
        .preview-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .preview-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .preview-item:last-child {
            border-bottom: none;
        }
        
        .preview-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .preview-value {
            color: #667eea;
            font-weight: 500;
        }
        
        /* Enhanced form validation styles */
        .form-group input.error, .form-group select.error, .form-group textarea.error {
            border-color: #e74c3c;
            background-color: rgba(231, 76, 60, 0.1);
        }
        
        .form-group input.success, .form-group select.success, .form-group textarea.success {
            border-color: #6c757d;
            background-color: rgba(248, 249, 250, 0.8);
        }
        
        .error-message {
            color: #e74c3c;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            color: #495057;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        
        /* Loading state for submit button */
        .submit-btn.loading {
            background: linear-gradient(135deg, #bdc3c7, #95a5a6);
            cursor: not-allowed;
            pointer-events: none;
        }
        
        .submit-btn.loading::after {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive design for policy forms */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .policy-specific-fields {
                padding: 15px;
                margin: 15px 0;
            }
            
            .policy-preview {
                padding: 15px;
                margin: 15px 0;
            }
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        /* Enhanced Claim System Styles */
        .verification-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
        }

        .verify-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .verify-btn:hover {
            background: linear-gradient(135deg, #0056b3, #007bff);
            transform: translateY(-2px);
        }

        .customer-info {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .customer-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }

        .customer-basic, .customer-medical {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .customer-basic div, .customer-medical div {
            margin: 8px 0;
            font-size: 14px;
        }

        .status-active {
            color: #007bff;
            font-weight: bold;
        }

        .proceed-btn {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
        }

        .proceed-btn:hover {
            background: linear-gradient(135deg, #1976D2, #2196F3);
            transform: translateY(-2px);
        }

        .no-claims-section, .existing-claims-section {
            text-align: center;
            padding: 30px 20px;
            background: #f8f9fa;
            border-radius: 12px;
            margin: 20px 0;
        }

        .success-icon, .info-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .success-icon {
            color: #6c757d;
        }

        .info-icon {
            color: #ff9800;
        }

        .claims-list {
            margin: 20px 0;
            text-align: left;
        }

        .claim-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .claim-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .claim-id {
            font-weight: bold;
            color: #2196F3;
        }

        .claim-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .claim-status.pending {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .claim-status.under-review {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #b8daff;
        }

        .claim-status.approved {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .claim-status.rejected {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .claim-details {
            font-size: 14px;
            color: #666;
        }

        .claim-details div {
            margin: 5px 0;
        }

        .claims-actions {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .secondary-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }

        .secondary-btn:hover {
            background: #5a6268;
        }

        .treatment-details {
            background: #f0f8ff;
            border: 1px solid #2196F3;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .treatment-details h4 {
            color: #1976D2;
            margin-bottom: 15px;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .back-btn {
            background: linear-gradient(135deg, #666, #555);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
        }

        .back-btn:hover {
            background: linear-gradient(135deg, #555, #666);
            transform: translateY(-2px);
        }

        .confirmation-card {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .success-message {
            text-align: center;
            margin-bottom: 25px;
        }

        .success-message h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .claim-summary {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .claim-summary div {
            margin: 8px 0;
            font-size: 14px;
        }

        .status-processing {
            color: #FF9800;
            font-weight: bold;
        }

        .timeline-container {
            margin: 20px 0;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            height: 100%;
            width: 2px;
            background: #ddd;
        }

        .timeline-step {
            position: relative;
            margin: 15px 0;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }

        .timeline-step.completed {
            border-left-color: #6c757d;
            background: #f8f9fa;
        }

        .timeline-step.active {
            border-left-color: #FF9800;
            background: #fff8f0;
        }

        .timeline-step::before {
            content: '';
            position: absolute;
            left: -22px;
            top: 15px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
        }

        .timeline-step.completed::before {
            background: #6c757d;
        }

        .timeline-step.active::before {
            background: #FF9800;
        }

        .next-steps {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .next-steps h4 {
            color: #1976D2;
            margin-bottom: 10px;
        }

        .next-steps ul {
            padding-left: 20px;
        }
        
        /* Claim Details Modal Styles */
        .claim-details-container {
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .claim-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #e9ecef;
        }
        
        .claim-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .claim-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .info-item strong {
            color: #495057;
            font-weight: 600;
        }
        
        .info-item span {
            color: #2c3e50;
            font-weight: 500;
        }
        
        .hospital-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .detailed-timeline {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .timeline-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e9ecef;
            position: relative;
        }
        
        .timeline-item.completed {
            border-left: 4px solid #6c757d;
            background: #f8f9fa;
        }
        
        .timeline-item.active {
            border-left: 4px solid #ffc107;
            background: #fffef8;
        }
        
        .timeline-item.pending {
            border-left: 4px solid #6c757d;
            background: #f8f9fa;
        }
        
        .timeline-icon {
            font-size: 20px;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: white;
            border: 2px solid #e9ecef;
        }
        
        .timeline-content h4 {
            margin: 0 0 5px 0;
            color: #2c3e50;
            font-size: 16px;
            font-weight: 600;
        }
        
        .timeline-content p {
            margin: 0 0 5px 0;
            color: #495057;
            font-weight: 500;
        }
        
        .timeline-content small {
            color: #6c757d;
            font-size: 12px;
        }
        
        .documents-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .document-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .doc-icon {
            font-size: 24px;
        }
        
        .doc-name {
            flex: 1;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .doc-status.verified {
            color: #495057;
            font-weight: 600;
        }
        
        .doc-status.pending {
            color: #ffc107;
            font-weight: 600;
        }
        
        .upload-more {
            margin-top: 20px;
            text-align: center;
        }
        
        .communication-log {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .comm-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }
        
        .comm-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .comm-header strong {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .comm-time {
            color: #6c757d;
            font-size: 12px;
        }
        
        .comm-item p {
            margin: 0;
            color: #495057;
            line-height: 1.5;
        }
        
        .add-message {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .add-message textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            resize: vertical;
            font-family: inherit;
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .action-buttons button {
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .primary-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }
        
        .primary-btn:hover {
            background: linear-gradient(135deg, #2980b9, #1f4e79);
            transform: translateY(-2px);
        }
        
        .secondary-btn {
            background: #f8f9fa;
            color: #495057;
            border: 1px solid #dee2e6;
        }
        
        .secondary-btn:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .next-steps li {
            margin: 5px 0;
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .track-btn, .new-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .track-btn {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
        }

        .new-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
        }

        .track-btn:hover, .new-btn:hover {
            transform: translateY(-2px);
        }

        .process-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .process-step {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            position: relative;
        }

        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 10px;
        }

        .step-content h5 {
            color: #333;
            margin: 10px 0 5px;
            font-size: 14px;
        }

        .step-content p {
            color: #666;
            font-size: 12px;
            margin: 0;
        }

        .info-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .info-card {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .info-card h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .requirement-list {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .requirement-list h4 {
            color: #f57c00;
            margin-bottom: 15px;
        }
        
        /* Premium navigation cards */
        .navigation-cards {
            position: absolute;
            bottom: 8%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 35px;
            z-index: 30;
            animation: fadeInUp 2s ease-out 1s both;
        }
        
        .nav-card {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.95) 0%, 
                    rgba(255, 255, 255, 0.9) 100%);
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 25px 20px;
            width: 200px;
            text-align: center;
            box-shadow: 
                0 15px 45px rgba(0, 0, 0, 0.08),
                0 6px 25px rgba(102, 126, 234, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid rgba(255, 255, 255, 0.4);
            animation: cardFloatAdvanced 8s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }
        
        .nav-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .nav-card:hover::before {
            left: 100%;
        }
        
        .nav-card:nth-child(1) { animation-delay: 0s; }
        .nav-card:nth-child(2) { animation-delay: 2.7s; }
        .nav-card:nth-child(3) { animation-delay: 5.4s; }
        
        .nav-card:hover {
            transform: translateY(-15px) scale(1.05) rotateY(3deg);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.15),
                0 12px 40px rgba(102, 126, 234, 0.15),
                0 0 0 2px rgba(255, 255, 255, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        
        .nav-icon {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            color: white;
            animation: iconFloatAdvanced 4s ease-in-out infinite;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.15),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
        }
        
        .nav-card:hover .nav-icon {
            transform: rotateY(360deg) scale(1.08);
            box-shadow: 
                0 12px 35px rgba(0, 0, 0, 0.25),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
        }
        
        .policies-icon {
            background: 
                linear-gradient(135deg, 
                    #ff6b6b 0%, 
                    #ee5a24 50%, 
                    #e55039 100%);
        }
        
        .claims-icon {
            background: 
                linear-gradient(135deg, 
                    #4834d4 0%, 
                    #3742fa 50%, 
                    #2f3542 100%);
        }
        
        .support-icon {
            background: 
                linear-gradient(135deg, 
                    #ff9ff3 0%, 
                    #f368e0 50%, 
                    #e84393 100%);
        }
        
        .nav-title {
            color: #2c3e50;
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 10px;
            letter-spacing: 0.6px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .nav-subtitle {
            color: #6c757d;
            font-size: 12px;
            line-height: 1.4;
            opacity: 0.9;
            font-weight: 500;
        }
        
        /* Simplified side navigation */
        .side-nav {
            position: fixed;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 40;
            animation: slideInLeft 1s ease-out 1.5s both;
        }
        
        .side-nav-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.3),
                0 0 0 0px rgba(255,255,255,0.1);
            animation: sideIconPulse 4s ease-in-out infinite;
        }
        
        .side-nav-icon:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
            transform: scale(1.15) rotate(10deg);
            box-shadow: 
                0 15px 40px rgba(102, 126, 234, 0.4),
                0 0 0 4px rgba(255,255,255,0.2);
        }
        
        /* Enhanced more options */
        .more-options {
            position: fixed;
            right: 240px;
            bottom: 30px;
            z-index: 40;
            animation: slideInRight 1s ease-out 1.8s both;
        }
        
        .more-btn {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 
                0 10px 30px rgba(231, 76, 60, 0.3),
                0 0 0 0px rgba(255,255,255,0.1);
            animation: moreBtnRotate 8s linear infinite;
        }
        
        .more-btn:hover {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            transform: scale(1.15);
            box-shadow: 
                0 20px 50px rgba(231, 76, 60, 0.4),
                0 0 0 4px rgba(255,255,255,0.2);
        }
        
        /* Advanced animations for professional styling */
        @keyframes ceilingSubtle {
            0%, 100% { 
                transform: perspective(1500px) rotateX(70deg) translateY(0px);
                filter: brightness(1);
            }
            50% { 
                transform: perspective(1500px) rotateX(71deg) translateY(-1px);
                filter: brightness(1.02);
            }
        }
        
        @keyframes lightGlow {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
                box-shadow: 
                    0 0 20px rgba(255,255,255,0.8),
                    0 0 40px rgba(248, 246, 240, 0.4);
            }
            50% { 
                opacity: 0.9; 
                transform: scale(1.1);
                box-shadow: 
                    0 0 25px rgba(255,255,255,0.9),
                    0 0 50px rgba(248, 246, 240, 0.5);
            }
        }
        
        @keyframes floorSubtle {
            0%, 100% { 
                filter: brightness(1) contrast(1);
            }
            50% { 
                filter: brightness(1.05) contrast(1.02);
            }
        }
        
        @keyframes floorTiles {
            0% { transform: translateX(0); }
            100% { transform: translateX(60px); }
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }
        
        @keyframes logoRotateGlow {
            0% { 
                transform: rotate(0deg);
                filter: brightness(1) hue-rotate(0deg);
            }
            25% { 
                filter: brightness(1.1) hue-rotate(90deg);
            }
            50% { 
                filter: brightness(1.2) hue-rotate(180deg);
            }
            75% { 
                filter: brightness(1.1) hue-rotate(270deg);
            }
            100% { 
                transform: rotate(360deg);
                filter: brightness(1) hue-rotate(360deg);
            }
        }
        
        @keyframes logoInnerSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(-360deg); }
        }
        
        @keyframes cardFloatAdvanced {
            0%, 100% { 
                transform: translateY(0px) rotateX(0deg);
                filter: brightness(1);
            }
            33% { 
                transform: translateY(-8px) rotateX(2deg);
                filter: brightness(1.05);
            }
            66% { 
                transform: translateY(5px) rotateX(-1deg);
                filter: brightness(0.98);
            }
        }
        
        @keyframes iconFloatAdvanced {
            0%, 100% { 
                transform: translateY(0px) rotateZ(0deg);
            }
            25% { 
                transform: translateY(-3px) rotateZ(2deg);
            }
            50% { 
                transform: translateY(-6px) rotateZ(0deg);
            }
            75% { 
                transform: translateY(-2px) rotateZ(-2deg);
            }
        }
        
        @keyframes fadeInUp {
            0% { 
                opacity: 0; 
                transform: translateX(-50%) translateY(50px);
            }
            100% { 
                opacity: 1; 
                transform: translateX(-50%) translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            0% { 
                opacity: 0; 
                transform: translateX(-100px);
            }
            100% { 
                opacity: 1; 
                transform: translateX(0);
            }
        }
        
        @keyframes slideInCenter {
            0% { 
                opacity: 0; 
                transform: translate(-50%, -50%) translateY(50px) scale(0.8);
            }
            100% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        @keyframes modalFadeIn {
            0% { 
                opacity: 0; 
                transform: scale(0.9);
            }
            100% { 
                opacity: 1; 
                transform: scale(1);
            }
        }
        
        @keyframes slideInRight {
            0% { 
                opacity: 0; 
                transform: translateX(100px);
            }
            100% { 
                opacity: 1; 
                transform: translateX(0);
            }
        }
        
        @keyframes personBreathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes headNod {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(2deg); }
            75% { transform: rotate(-1deg); }
        }
        
        @keyframes chatFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-8px) scale(1.02); }
        }
        
        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes deskGlow {
            0%, 100% { box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3), 0 0 0 2px rgba(255,255,255,0.1); }
            50% { box-shadow: 0 8px 25px rgba(231, 76, 60, 0.5), 0 0 0 2px rgba(255,255,255,0.2); }
        }
        
        @keyframes labelFloat {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-3px); }
        }
        
        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            33% { transform: translateY(-5px); }
            66% { transform: translateY(5px); }
        }
        
        @keyframes iconBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }
        
        @keyframes sideIconPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3), 0 0 0 0px rgba(255,255,255,0.1);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5), 0 0 0 2px rgba(255,255,255,0.2);
            }
        }
        
        @keyframes moreBtnRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* FAQ Modal Styles - Question Suggestions */
        .faq-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }
        
        .faq-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .faq-container {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 25px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.3),
                0 10px 40px rgba(102, 126, 234, 0.2);
            border: 3px solid rgba(255, 255, 255, 0.8);
            animation: slideInScale 0.4s ease-out;
            position: relative;
        }
        
        .faq-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
        }
        
        .faq-title {
            color: #2c3e50;
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .faq-subtitle {
            color: #6c757d;
            font-size: 14px;
            font-weight: 500;
        }
        
        .faq-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
        
        .faq-close:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.5);
        }
        
        .question-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .question-item {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border: 2px solid rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .question-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .question-item:hover::before {
            left: 100%;
        }
        
        .question-item:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.1),
                0 4px 15px rgba(102, 126, 234, 0.15);
            border-color: rgba(102, 126, 234, 0.3);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(118, 75, 162, 0.08));
        }
        
        .question-text {
            color: #2c3e50;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .question-icon {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .question-arrow {
            margin-left: auto;
            color: #667eea;
            font-size: 16px;
            transition: transform 0.3s ease;
        }
        
        .question-item:hover .question-arrow {
            transform: translateX(3px);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(300%) translateY(300%) rotate(45deg); }
        }
        
        @keyframes chatPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 
                    0 15px 40px rgba(102, 126, 234, 0.4),
                    0 5px 20px rgba(118, 75, 162, 0.3);
            }
            50% { 
                transform: scale(1.03);
                box-shadow: 
                    0 20px 50px rgba(79, 172, 254, 0.5),
                    0 8px 25px rgba(0, 242, 254, 0.4);
            }
        }
        
        @keyframes slideInScale {
            from { 
                opacity: 0; 
                transform: scale(0.8) translateY(50px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }
        
        @keyframes fadeInDown {
            from { 
                opacity: 0; 
                transform: translateY(-10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .nav-card:nth-child(1) { animation-delay: 0.1s; }
        .nav-card:nth-child(2) { animation-delay: 0.2s; }
        .nav-card:nth-child(3) { animation-delay: 0.3s; }
        

        
        /* Reset office container */
        .office-container {
            margin-top: 0;
            height: 100vh;
        }
        
        /* Move process steps from right side to bottom */
        .process-guide,
        .step-indicator,
        .process-steps,
        .process-flow,
        [class*="step-"] {
            position: static !important;
            right: auto !important;
            top: auto !important;
            left: auto !important;
            transform: none !important;
            margin: 20px auto !important;
            max-width: 100% !important;
            display: block !important;
            flex-direction: column !important;
            flex-wrap: nowrap !important;
            justify-content: flex-start !important;
            gap: 10px !important;
        }
        
        /* Style the process flow specifically - keep as one block */
        .process-flow {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef) !important;
            padding: 25px !important;
            border-radius: 15px !important;
            border: 2px solid #dee2e6 !important;
            margin: 30px auto !important;
            max-width: 900px !important;
            display: block !important;
        }
        
        /* Style individual process steps - keep them stacked vertically */
        .process-step {
            background: white !important;
            border: 1px solid #e9ecef !important;
            border-radius: 10px !important;
            padding: 15px !important;
            margin: 10px 0 !important;
            text-align: left !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
            transition: all 0.3s ease !important;
            display: flex !important;
            align-items: center !important;
            gap: 15px !important;
            width: 100% !important;
        }
        
        .process-step:hover {
            transform: translateX(5px) !important;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15) !important;
            border-color: #667eea !important;
        }
        
        /* Style step numbers */
        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2) !important;
            color: white !important;
            border-radius: 50% !important;
            width: 35px !important;
            height: 35px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-weight: bold !important;
            font-size: 14px !important;
            margin: 0 !important;
            flex-shrink: 0 !important;
        }
        
        /* Style step content */
        .step-content {
            flex: 1 !important;
        }
        
        .step-content h5 {
            margin: 0 0 5px 0 !important;
            color: #2c3e50 !important;
            font-size: 16px !important;
            font-weight: 600 !important;
        }
        
        .step-content p {
            margin: 0 !important;
            color: #6c757d !important;
            font-size: 14px !important;
            line-height: 1.4 !important;
        }
        
        /* Ensure the info-section containing process flows is visible */
        .info-section {
            background: transparent !important;
            border-radius: 0 !important;
            padding: 20px 0 !important;
            margin: 20px 0 !important;
            width: 100% !important;
        }
        
        .info-section h3 {
            text-align: center !important;
            color: #2c3e50 !important;
            margin-bottom: 20px !important;
            font-size: 20px !important;
        }
        
        /* Fix any floating elements that might be process steps */
        [style*="position: fixed"],
        [style*="position: absolute"]:not(.modal-content):not(.modal):not(.detail-modal):not(.modal-close):not(.nav-card):not(.chat-bubble) {
            position: relative !important;
            right: auto !important;
            top: auto !important;
            left: auto !important;
            transform: none !important;
            margin: 10px auto !important;
        }
        
        /* Style process step items horizontally */
        .modal-section {
            position: relative !important;
        }
        
        /* Create bottom process bar if needed */
        .process-bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95), rgba(118, 75, 162, 0.95));
            padding: 15px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .process-step-mini {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 14px;
            font-weight: 500;
        }
        
        .step-number-mini {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .step-number-mini.active {
            background: #ffc107;
            color: #333;
            border-color: #ffc107;
        }
        
        .step-number-mini.completed {
            background: #6c757d;
            border-color: #6c757d;
        }
    </style>
</head>
<body>

    <div class="office-container">
        <!-- Ceiling with grid and lights -->
        <div class="ceiling">
            <div class="ceiling-light light-1"></div>
            <div class="ceiling-light light-2"></div>
            <div class="ceiling-light light-3"></div>
        </div>
        
        <!-- Floor -->
        <div class="floor"></div>
        
        <!-- Back wall -->
        <div class="back-wall"></div>
        
        <!-- Reception area (left side) -->
        <div class="reception-area">
            <div class="reception-desk">
                <div class="desk-top"></div>
            </div>
            <!-- Reception chairs behind the desk -->
            <div class="reception-chair reception-chair-1">
                <div class="chair-back"></div>
                <div class="chair-seat"></div>
                <div class="chair-legs"></div>
            </div>
            <div class="reception-chair reception-chair-2">
                <div class="chair-back"></div>
                <div class="chair-seat"></div>
                <div class="chair-legs"></div>
            </div>
        </div>
        
        <!-- Company branding (left top corner) -->
        <div class="company-branding">
            <div class="logo">
                <img src="https://www.orientalinsurance.org.in/documents/20127/57435/OICL-logo.png" alt="Oriental Insurance Company Logo" class="logo-symbol logo-image">
            </div>
            <div class="brand-text">
                <div class="company-name">THE ORIENTAL<br>INSURANCE CO. LTD.</div>
                <div class="company-subtitle">Est. 1947</div>
            </div>
        </div>
        
        <!-- Professional Receptionist -->
        <div class="receptionist">
            <div class="person">
                <div class="person-hair"></div>
                <div class="person-head">
                    <div class="person-face-features">
                        <div class="person-eyes"></div>
                        <div class="person-nose"></div>
                        <div class="person-mouth"></div>
                    </div>
                </div>
                <div class="person-collar"></div>
                <div class="person-body">
                    <div class="person-blazer"></div>
                    <div class="person-shirt"></div>
                </div>
                <div class="person-arms">
                    <div class="person-hands"></div>
                </div>
            </div>
        </div>
        
        <!-- Chat bubble -->
        <div class="chat-bubble" onclick="interactWithAssistant()">
            <span class="chat-icon"></span>
            <span class="chat-text" id="chatText">Hello! How can I assist you today?</span>
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        
        <!-- Service desks (right side) -->
        <div class="service-desks">
            <div class="desk-row">
                <div class="service-desk">
                    <div class="desk-label">Policy Desk</div>
                    <div class="desk-info">
                        <h4>Policy Services</h4>
                        <ul>
                            <li>New Policy Purchase</li>
                            <li>Policy Renewal</li>
                            <li>Coverage Details</li>
                            <li>Premium Calculation</li>
                            <li>Policy Modifications</li>
                        </ul>
                    </div>
                    <div class="desk-structure"></div>
                    <div class="desk-chair"></div>
                </div>
                <div class="service-desk">
                    <div class="desk-label">Claim Desk</div>
                    <div class="desk-info">
                        <h4>Claim Services</h4>
                        <ul>
                            <li>Claim Registration</li>
                            <li>Claim Status Tracking</li>
                            <li>Document Submission</li>
                            <li>Settlement Process</li>
                            <li>Claim Appeals</li>
                        </ul>
                    </div>
                    <div class="desk-structure"></div>
                    <div class="desk-chair"></div>
                </div>
                <div class="service-desk">
                    <div class="desk-label">Grievance Desk</div>
                    <div class="desk-info">
                        <h4>Customer Support</h4>
                        <ul>
                            <li>Complaint Registration</li>
                            <li>Service Issues</li>
                            <li>Feedback & Suggestions</li>
                            <li>Resolution Tracking</li>
                            <li>Escalation Support</li>
                        </ul>
                    </div>
                    <div class="desk-structure"></div>
                    <div class="desk-chair"></div>
                </div>
            </div>
        </div>
        
        <!-- Office door -->
        <div class="door-frame"></div>
        <div class="office-door" onclick="openAuthModal()"></div>
        
        <!-- Decorative pots -->
        <div class="decorative-pot left">
            <div class="pot-base"></div>
            <div class="plant">
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
            </div>
        </div>
        <div class="decorative-pot right">
            <div class="pot-base"></div>
            <div class="plant">
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
                <div class="leaf"></div>
            </div>
        </div>
        
        <!-- Navigation cards -->
        <div class="navigation-cards">
            <div class="nav-card" onclick="openDetailModal('policies')">
                <div class="nav-icon policies-icon"></div>
                <div class="nav-title">Policies</div>
                <div class="nav-subtitle">View and manage your insurance policies</div>
            </div>
            <div class="nav-card" onclick="openDetailModal('claims')">
                <div class="nav-icon claims-icon"></div>
                <div class="nav-title">Claim Registration</div>
                <div class="nav-subtitle">Submit and track your insurance claims</div>
            </div>
            <div class="nav-card" onclick="openDetailModal('support')">
                <div class="nav-icon support-icon"></div>
                <div class="nav-title">Support</div>
                <div class="nav-subtitle">Get help from our customer service</div>
            </div>
        </div>

        <!-- Detailed Modals -->
        <!-- Policies Modal -->
        <div id="policiesModal" class="detail-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Insurance Policies</h2>
                    <button class="modal-close" onclick="closeDetailModal('policies')">&times;</button>
                </div>
                
                <div class="modal-section">
                    <h3> Available Insurance Types</h3>
                    <div class="info-card">
                        <h4>Motor Insurance</h4>
                        <p>Comprehensive coverage for your vehicles including third-party liability, own damage, and theft protection.</p>
                    </div>
                    <div class="info-card">
                        <h4>Health Insurance</h4>
                        <p>Medical coverage for hospitalization, treatment, and health emergencies with cashless facility.</p>
                    </div>
                    <div class="info-card">
                        <h4>Home Insurance</h4>
                        <p>Protection for your home and belongings against fire, theft, natural disasters, and accidents.</p>
                    </div>
                    <div class="info-card">
                        <h4>Travel Insurance</h4>
                        <p>Coverage for domestic and international travel including medical emergencies and trip cancellations.</p>
                    </div>
                </div>

                <div class="modal-section">
                    <h3> Policy Registration</h3>
                    <div class="registration-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" id="policyFullName" name="fullName" placeholder="Enter your full name" required>
                            </div>
                            <div class="form-group">
                                <label>Email Address *</label>
                                <input type="email" id="policyEmail" name="email" placeholder="Enter your email" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Phone Number *</label>
                                <input type="tel" id="policyPhone" name="phone" placeholder="Enter your phone number" required>
                            </div>
                            <div class="form-group">
                                <label>Policy Type *</label>
                                <select id="policyType" name="policyType" required onchange="updatePolicyDetails()">
                                    <option value="">Select Policy Type</option>
                                    <option value="motor">Motor Insurance</option>
                                    <option value="health">Health Insurance</option>
                                    <option value="home">Home Insurance</option>
                                    <option value="travel">Travel Insurance</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Date of Birth *</label>
                                <input type="date" id="policyDOB" name="dateOfBirth" required>
                            </div>
                            <div class="form-group">
                                <label>Annual Income</label>
                                <select id="policyIncome" name="annualIncome">
                                    <option value="">Select Income Range</option>
                                    <option value="below-3lakh">Below 3 Lakhs</option>
                                    <option value="3-5lakh">3-5 Lakhs</option>
                                    <option value="5-10lakh">5-10 Lakhs</option>
                                    <option value="10-25lakh">10-25 Lakhs</option>
                                    <option value="above-25lakh">Above 25 Lakhs</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Complete Address *</label>
                            <textarea id="policyAddress" name="address" rows="3" placeholder="Enter your complete address with pincode" required></textarea>
                        </div>
                        
                        <!-- Dynamic policy-specific fields -->
                        <div id="motorFields" class="policy-specific-fields" style="display: none;">
                            <h4> Vehicle Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Vehicle Make & Model *</label>
                                    <input type="text" id="vehicleModel" name="vehicleModel" placeholder="e.g., Maruti Swift">
                                </div>
                                <div class="form-group">
                                    <label>Manufacturing Year *</label>
                                    <select id="vehicleYear" name="vehicleYear">
                                        <option value="">Select Year</option>
                                        <option value="2024">2024</option>
                                        <option value="2023">2023</option>
                                        <option value="2022">2022</option>
                                        <option value="2021">2021</option>
                                        <option value="2020">2020</option>
                                        <option value="older">2019 or Older</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Vehicle Registration Number</label>
                                    <input type="text" id="vehicleNumber" name="vehicleNumber" placeholder="e.g., MH01AB1234">
                                </div>
                                <div class="form-group">
                                    <label>Fuel Type</label>
                                    <select id="fuelType" name="fuelType">
                                        <option value="petrol">Petrol</option>
                                        <option value="diesel">Diesel</option>
                                        <option value="cng">CNG</option>
                                        <option value="electric">Electric</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div id="healthFields" class="policy-specific-fields" style="display: none;">
                            <h4> Health Information</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Sum Insured *</label>
                                    <select id="healthSumInsured" name="healthSumInsured">
                                        <option value="">Select Coverage</option>
                                        <option value="300000">3 Lakhs</option>
                                        <option value="500000">5 Lakhs</option>
                                        <option value="1000000">10 Lakhs</option>
                                        <option value="1500000">15 Lakhs</option>
                                        <option value="2500000">25 Lakhs</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Family Members</label>
                                    <select id="familyMembers" name="familyMembers">
                                        <option value="individual">Individual</option>
                                        <option value="couple">Couple</option>
                                        <option value="family">Family (with children)</option>
                                        <option value="parents">Including Parents</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Pre-existing Medical Conditions</label>
                                <textarea id="medicalConditions" name="medicalConditions" rows="2" placeholder="Please mention any existing health conditions (optional)"></textarea>
                            </div>
                        </div>

                        <div id="homeFields" class="policy-specific-fields" style="display: none;">
                            <h4> Property Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Property Type *</label>
                                    <select id="propertyType" name="propertyType">
                                        <option value="">Select Type</option>
                                        <option value="apartment">Apartment</option>
                                        <option value="independent-house">Independent House</option>
                                        <option value="villa">Villa</option>
                                        <option value="row-house">Row House</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Built-up Area (Sq Ft) *</label>
                                    <input type="number" id="builtUpArea" name="builtUpArea" placeholder="e.g., 1200">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Property Value *</label>
                                    <select id="propertyValue" name="propertyValue">
                                        <option value="">Select Value Range</option>
                                        <option value="upto-50lakh">Up to 50 Lakhs</option>
                                        <option value="50lakh-1crore">50 Lakhs - 1 Crore</option>
                                        <option value="1-2crore">1-2 Crore</option>
                                        <option value="above-2crore">Above 2 Crore</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Construction Year</label>
                                    <input type="number" id="constructionYear" name="constructionYear" placeholder="e.g., 2015" min="1950" max="2024">
                                </div>
                            </div>
                        </div>

                        <div id="travelFields" class="policy-specific-fields" style="display: none;">
                            <h4> Travel Information</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Trip Type *</label>
                                    <select id="tripType" name="tripType">
                                        <option value="">Select Trip Type</option>
                                        <option value="domestic">Domestic Travel</option>
                                        <option value="international">International Travel</option>
                                        <option value="multi-trip">Multi-Trip Annual</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Trip Duration</label>
                                    <select id="tripDuration" name="tripDuration">
                                        <option value="">Select Duration</option>
                                        <option value="1-7days">1-7 Days</option>
                                        <option value="8-15days">8-15 Days</option>
                                        <option value="16-30days">16-30 Days</option>
                                        <option value="31-60days">31-60 Days</option>
                                        <option value="61-180days">61-180 Days</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Destination Countries</label>
                                    <input type="text" id="destinations" name="destinations" placeholder="e.g., USA, Europe, Thailand">
                                </div>
                                <div class="form-group">
                                    <label>Number of Travelers</label>
                                    <select id="travelerCount" name="travelerCount">
                                        <option value="1">1 Person</option>
                                        <option value="2">2 People</option>
                                        <option value="3-5">3-5 People</option>
                                        <option value="6+">6+ People</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Policy Preview Section -->
                        <div id="policyPreview" class="policy-preview" style="display: none;">
                            <h4> Policy Preview</h4>
                            <div class="preview-card">
                                <div id="previewContent"></div>
                            </div>
                        </div>

                        <button class="submit-btn" onclick="submitPolicyForm()">Apply for Policy</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Claims Modal -->
        <div id="claimsModal" class="detail-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Insurance Claim Processing System</h2>
                    <button class="modal-close" onclick="closeDetailModal('claims')">&times;</button>
                </div>
                
                <!-- Step 0: Insurance Type Selection -->
                <div id="insuranceTypeStep" class="modal-section">
                    <h3> Select Insurance Type</h3>
                    <p>Choose the type of insurance for your claim:</p>
                    
                    <div class="insurance-options">
                        <div class="insurance-card" onclick="selectInsuranceType('health')">
                            <div class="insurance-icon"></div>
                            <h4>Health Insurance</h4>
                            <p>Medical expenses, hospitalization, treatments</p>
                        </div>
                        <div class="insurance-card" onclick="selectInsuranceType('motor')">
                            <div class="insurance-icon"></div>
                            <h4>Motor Insurance</h4>
                            <p>Vehicle damage, accidents, theft</p>
                        </div>
                        <div class="insurance-card" onclick="selectInsuranceType('home')">
                            <div class="insurance-icon"></div>
                            <h4>Home Insurance</h4>
                            <p>Property damage, theft, natural disasters</p>
                        </div>
                        <div class="insurance-card" onclick="selectInsuranceType('travel')">
                            <div class="insurance-icon"></div>
                            <h4>Travel Insurance</h4>
                            <p>Trip cancellation, medical abroad, baggage</p>
                        </div>
                        <div class="insurance-card" onclick="selectInsuranceType('marine')">
                            <div class="insurance-icon"></div>
                            <h4>Marine Insurance</h4>
                            <p>Cargo, ship damage, marine transit</p>
                        </div>
                        <div class="insurance-card" onclick="selectInsuranceType('fire')">
                            <div class="insurance-icon"></div>
                            <h4>Fire Insurance</h4>
                            <p>Fire damage, explosion, lightning</p>
                        </div>
                    </div>
                </div>
                
                <!-- Process Information Section - Only visible on insurance type selection -->
                <div id="processInfoSection" class="modal-section info-section">
                    <h3> Enhanced Claim Process</h3>
                    <div class="process-flow">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h5>Customer Verification</h5>
                                <p>Policy and customer details verification</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h5>Claim Submission</h5>
                                <p>Detailed claim form submission</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h5>Surveyor Assignment</h5>
                                <p>Auto-assignment of qualified surveyor</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h5>Professional Survey</h5>
                                <p>On-site verification and assessment</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h5>Survey Report</h5>
                                <p>Comprehensive evaluation and documentation</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <h5>Claim Decision</h5>
                                <p>Approval/rejection based on survey findings</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">7</div>
                            <div class="step-content">
                                <h5>Settlement</h5>
                                <p>Payment processing for approved claims</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 1: Customer Verification -->
                <div id="customerVerificationStep" class="modal-section" style="display: none;">
                    <h3> Customer Verification</h3>
                    <p>Enter policy number to fetch customer details and start claim process</p>
                    <div class="selected-insurance-display">
                        <span>Selected Insurance: </span>
                        <span id="selectedInsuranceDisplay" class="insurance-badge"></span>
                    </div>
                    <div class="verification-form">
                        <div class="form-group">
                            <label>Policy Number *</label>
                            <input type="text" id="policyNumberInput" placeholder="Enter health policy number (e.g., HLT/2024/002)" required>
                        </div>
                        <button class="verify-btn" onclick="verifyCustomer()"> Verify Customer</button>
                    </div>
                    
                    <div id="customerDetails" class="customer-info" style="display: none;">
                        <h4> Customer Information</h4>
                        <div class="customer-card">
                            <div class="customer-basic">
                                <div><strong>Name:</strong> <span id="customerName"></span></div>
                                <div><strong>Email:</strong> <span id="customerEmail"></span></div>
                                <div><strong>Phone:</strong> <span id="customerPhone"></span></div>
                                <div><strong>Policy Status:</strong> <span id="policyStatus" class="status-active"></span></div>
                            </div>
                            <div class="customer-medical">
                                <div><strong>Blood Group:</strong> <span id="bloodGroup"></span></div>
                                <div><strong>Known Allergies:</strong> <span id="allergies"></span></div>
                                <div><strong>Chronic Conditions:</strong> <span id="chronicConditions"></span></div>
                            </div>
                        </div>
                        <button class="proceed-btn" onclick="checkExistingClaims()"> Check Existing Claims</button>
                    </div>
                </div>

                <!-- Step 1.5: Existing Claims Check -->
                <div id="claimStatusStep" class="modal-section" style="display: none;">
                    <h3> Existing Claims Status</h3>
                    <p>Checking for any pending claims under this policy...</p>
                    
                    <div id="existingClaimsContainer">
                        <!-- Dynamic content will be loaded here -->
                    </div>
                    
                    <div id="noExistingClaims" style="display: none;" class="no-claims-section">
                        <div class="success-icon"></div>
                        <h4>No Pending Claims Found</h4>
                        <p>Your policy is clear for new claim filing. You can proceed to submit a new claim.</p>
                        <button class="proceed-btn" onclick="proceedToClaimForm()"> File New Claim</button>
                    </div>
                    
                    <div id="existingClaimsFound" style="display: none;" class="existing-claims-section">
                        <div class="info-icon"></div>
                        <h4>Existing Claims Found</h4>
                        <p>You have pending claims under this policy. Please review the status below:</p>
                        
                        <div id="claimsList" class="claims-list">
                            <!-- Dynamic claims will be populated here -->
                        </div>
                        
                        <div class="claims-actions">
                            <button class="secondary-btn" onclick="viewClaimDetails()"> View Full Details</button>
                            <button class="proceed-btn" onclick="proceedToClaimForm()"> File New Claim Anyway</button>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Dynamic Claim Form -->
                <div id="claimFormStep" class="modal-section" style="display: none;">
                    <h3 id="claimFormTitle"> Claim Details</h3>
                    
                    <!-- Health Claim Form -->
                    <div id="healthClaimForm" class="claim-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Claim Type *</label>
                                <select id="healthClaimType" required>
                                    <option value="">Select Claim Type</option>
                                    <option value="Hospitalization">Hospitalization</option>
                                    <option value="Surgery">Surgery</option>
                                    <option value="Emergency Treatment">Emergency Treatment</option>
                                    <option value="Maternity">Maternity</option>
                                    <option value="Diagnostic Tests">Diagnostic Tests</option>
                                    <option value="Outpatient Treatment">Outpatient Treatment</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Incident Date *</label>
                                <input type="date" id="healthIncidentDate" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Hospital Name *</label>
                                <input type="text" id="hospitalName" placeholder="Enter hospital name" required>
                            </div>
                            <div class="form-group">
                                <label>Estimated Amount () *</label>
                                <input type="number" id="healthEstimatedAmount" placeholder="Enter estimated claim amount" required>
                            </div>
                        </div>

                        <div class="treatment-details">
                            <h4> Treatment Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Diagnosis *</label>
                                    <input type="text" id="diagnosis" placeholder="Medical diagnosis" required>
                                </div>
                                <div class="form-group">
                                    <label>Procedure/Treatment *</label>
                                    <input type="text" id="procedure" placeholder="Treatment or procedure performed" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Attending Doctor *</label>
                                    <input type="text" id="doctorName" placeholder="Doctor's name" required>
                                </div>
                                <div class="form-group">
                                    <label>Room Type</label>
                                    <select id="roomType">
                                        <option value="">Select Room Type</option>
                                        <option value="General Ward">General Ward</option>
                                        <option value="Semi-Private">Semi-Private</option>
                                        <option value="Private">Private</option>
                                        <option value="ICU">ICU</option>
                                        <option value="Emergency">Emergency</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Admission Date</label>
                                    <input type="date" id="admissionDate">
                                </div>
                                <div class="form-group">
                                    <label>Discharge Date</label>
                                    <input type="date" id="dischargeDate">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Incident Description *</label>
                            <textarea id="healthIncidentDescription" rows="4" placeholder="Describe the medical incident and treatment in detail" required></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="back-btn" onclick="backToVerification()"> Back</button>
                            <button class="submit-btn" onclick="submitHealthClaim()"> Submit Health Claim</button>
                        </div>
                    </div>

                    <!-- Motor Claim Form -->
                    <div id="motorClaimForm" class="claim-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Claim Type *</label>
                                <select id="motorClaimType" required>
                                    <option value="">Select Claim Type</option>
                                    <option value="Accident">Accident</option>
                                    <option value="Theft">Theft</option>
                                    <option value="Fire">Fire</option>
                                    <option value="Natural Calamity">Natural Calamity</option>
                                    <option value="Vandalism">Vandalism</option>
                                    <option value="Third Party">Third Party</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Incident Date *</label>
                                <input type="date" id="motorIncidentDate" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Location of Incident *</label>
                                <input type="text" id="incidentLocation" placeholder="Where did the incident occur?" required>
                            </div>
                            <div class="form-group">
                                <label>Estimated Damage Amount () *</label>
                                <input type="number" id="motorEstimatedAmount" placeholder="Enter estimated repair cost" required>
                            </div>
                        </div>

                        <div class="vehicle-details">
                            <h4> Vehicle & Incident Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Vehicle Registration Number *</label>
                                    <input type="text" id="vehicleRegNumber" placeholder="e.g., DL01AB1234" required>
                                </div>
                                <div class="form-group">
                                    <label>Driver Name *</label>
                                    <input type="text" id="driverName" placeholder="Name of the driver at time of incident" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Driver License Number *</label>
                                    <input type="text" id="licenseNumber" placeholder="Driving license number" required>
                                </div>
                                <div class="form-group">
                                    <label>Police FIR Number</label>
                                    <input type="text" id="firNumber" placeholder="FIR number (if applicable)">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Garage/Workshop Name</label>
                                    <input type="text" id="garageName" placeholder="Preferred garage for repair">
                                </div>
                                <div class="form-group">
                                    <label>Third Party Involved</label>
                                    <select id="thirdPartyInvolved">
                                        <option value="">Select</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Incident Description *</label>
                            <textarea id="motorIncidentDescription" rows="4" placeholder="Describe the incident in detail - what happened, how it happened, extent of damage, etc." required></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="back-btn" onclick="backToVerification()"> Back</button>
                            <button class="submit-btn" onclick="submitMotorClaim()"> Submit Motor Claim</button>
                        </div>
                    </div>

                    <!-- Home Claim Form -->
                    <div id="homeClaimForm" class="claim-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Claim Type *</label>
                                <select id="homeClaimType" required>
                                    <option value="">Select Claim Type</option>
                                    <option value="Fire">Fire</option>
                                    <option value="Theft">Theft/Burglary</option>
                                    <option value="Natural Calamity">Natural Calamity</option>
                                    <option value="Water Damage">Water Damage</option>
                                    <option value="Electrical Damage">Electrical Damage</option>
                                    <option value="Structural Damage">Structural Damage</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Incident Date *</label>
                                <input type="date" id="homeIncidentDate" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Property Address *</label>
                                <input type="text" id="propertyAddress" placeholder="Complete address of the property" required>
                            </div>
                            <div class="form-group">
                                <label>Estimated Loss Amount () *</label>
                                <input type="number" id="homeEstimatedAmount" placeholder="Enter estimated loss/damage amount" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Incident Description *</label>
                            <textarea id="homeIncidentDescription" rows="4" placeholder="Describe the incident and damage in detail" required></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="back-btn" onclick="backToVerification()"> Back</button>
                            <button class="submit-btn" onclick="submitHomeClaim()"> Submit Home Claim</button>
                        </div>
                    </div>

                    <!-- Travel Claim Form -->
                    <div id="travelClaimForm" class="claim-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Claim Type *</label>
                                <select id="travelClaimType" required>
                                    <option value="">Select Claim Type</option>
                                    <option value="Medical Emergency">Medical Emergency</option>
                                    <option value="Trip Cancellation">Trip Cancellation</option>
                                    <option value="Baggage Loss">Baggage Loss</option>
                                    <option value="Flight Delay">Flight Delay</option>
                                    <option value="Passport Loss">Passport Loss</option>
                                    <option value="Personal Accident">Personal Accident</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Incident Date *</label>
                                <input type="date" id="travelIncidentDate" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Travel Destination *</label>
                                <input type="text" id="travelDestination" placeholder="Where were you traveling?" required>
                            </div>
                            <div class="form-group">
                                <label>Claim Amount () *</label>
                                <input type="number" id="travelEstimatedAmount" placeholder="Enter claim amount" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Incident Description *</label>
                            <textarea id="travelIncidentDescription" rows="4" placeholder="Describe the incident in detail" required></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="back-btn" onclick="backToVerification()"> Back</button>
                            <button class="submit-btn" onclick="submitTravelClaim()"> Submit Travel Claim</button>
                        </div>
                    </div>

                    <!-- Generic Claim Form for other types -->
                    <div id="genericClaimForm" class="claim-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Incident Date *</label>
                                <input type="date" id="genericIncidentDate" required>
                            </div>
                            <div class="form-group">
                                <label>Claim Amount () *</label>
                                <input type="number" id="genericEstimatedAmount" placeholder="Enter claim amount" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Incident Description *</label>
                            <textarea id="genericIncidentDescription" rows="4" placeholder="Describe the incident in detail" required></textarea>
                        </div>

                        <div class="form-actions">
                            <button class="back-btn" onclick="backToVerification()"> Back</button>
                            <button class="submit-btn" onclick="submitGenericClaim()"> Submit Claim</button>
                        </div>
                    </div>
                    </div>
                </div>

                <!-- Step 3: Claim Status & Surveyor Assignment -->
                <div id="claimStatusStep" class="modal-section" style="display: none;">
                    <h3> Claim Status & Surveyor Assignment</h3>
                    <div id="claimConfirmation" class="confirmation-card">
                        <div class="success-message">
                            <h4> Claim Submitted Successfully!</h4>
                            <div class="claim-summary">
                                <div><strong>Claim ID:</strong> <span id="claimId"></span></div>
                                <div><strong>Status:</strong> <span id="claimStatus" class="status-processing"></span></div>
                                <div><strong>Assigned Surveyor:</strong> <span id="assignedSurveyor"></span></div>
                                <div><strong>Surveyor Phone:</strong> <span id="surveyorPhone"></span></div>
                                <div><strong>Estimated Amount:</strong> <span id="displayEstimatedAmount"></span></div>
                            </div>
                        </div>
                        
                        <div class="timeline-container">
                            <h4> Claim Processing Timeline</h4>
                            <div id="claimTimeline" class="timeline">
                                <!-- Timeline will be populated dynamically -->
                            </div>
                        </div>

                        <div class="next-steps">
                            <h4> Next Steps</h4>
                            <ul>
                                <li>The assigned surveyor will contact you within 24 hours</li>
                                <li>Please keep all medical documents ready for verification</li>
                                <li>Hospital visit by surveyor will be scheduled</li>
                                <li>Survey report will be submitted within 3-5 business days</li>
                                <li>Claim decision will be communicated within 7 business days</li>
                            </ul>
                        </div>

                        <div class="action-buttons">
                            <button class="track-btn" onclick="trackClaim()"> Track Claim Status</button>
                            <button class="new-btn" onclick="startNewClaim()"> Submit New Claim</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Support Modal -->
        <div id="supportModal" class="detail-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Customer Support</h2>
                    <button class="modal-close" onclick="closeDetailModal('support')">&times;</button>
                </div>
                
                <div class="modal-section">
                    <h3> Contact Information</h3>
                    <div class="info-card">
                        <h4>South Extension Branch Customer Care</h4>
                        <p><strong>Direct Line:</strong> +91-11-24626190</p>
                        <p><strong>Toll Free:</strong> 1800-118-485</p>
                        <p><strong>Email:</strong> customercare@orientalinsurance.co.in</p>
                        <p><strong>Working Hours:</strong> Monday to Friday, 9:00 AM to 6:00 PM</p>
                        <p><strong>Address:</strong> No. G/8, NDSE 1, South Extension Part 1 Market, 1st Floor, Delhi - 110049</p>
                    </div>
                </div>

                <div class="modal-section">
                    <h3> Emergency Services</h3>
                    <div class="requirement-list">
                        <h4>24/7 Emergency Helpline</h4>
                        <ul>
                            <li><strong>Motor Claims:</strong> 1800-118-486</li>
                            <li><strong>Health Claims:</strong> 1800-118-487</li>
                            <li><strong>Travel Assistance:</strong> 1800-118-488</li>
                            <li><strong>Home Emergency:</strong> 1800-118-489</li>
                        </ul>
                    </div>
                </div>

                <div class="modal-section">
                    <h3> Submit Grievance</h3>
                    <div class="registration-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Name *</label>
                                <input type="text" placeholder="Enter your name" required>
                            </div>
                            <div class="form-group">
                                <label>Email *</label>
                                <input type="email" placeholder="Enter your email" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Policy/Claim Number</label>
                                <input type="text" placeholder="Enter policy or claim number">
                            </div>
                            <div class="form-group">
                                <label>Issue Category *</label>
                                <select required>
                                    <option value="">Select Category</option>
                                    <option value="claim">Claim Related</option>
                                    <option value="policy">Policy Related</option>
                                    <option value="service">Service Quality</option>
                                    <option value="billing">Billing Issues</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description *</label>
                            <textarea rows="4" placeholder="Describe your issue or feedback" required></textarea>
                        </div>
                        <button class="submit-btn" onclick="submitSupportForm()">Submit Grievance</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Door Modal -->
        <div id="doorModal" class="detail-modal door-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Office Information</h2>
                    <button class="modal-close" onclick="closeDetailModal('door')">&times;</button>
                </div>
                
                <div class="modal-section">
                    <h3> Welcome to Oriental Insurance - South Extension Branch</h3>
                    <p>Step into our modern South Extension branch office designed for customer comfort and efficient service delivery. Located in the heart of South Extension Part 1 Market, our office is equipped with state-of-the-art facilities to serve you better.</p>
                </div>

                <div class="modal-section">
                    <h3> Office Features</h3>
                    <div class="office-info-grid">
                        <div class="office-feature" onclick="openFeatureModal('customer-service')">
                            <i></i>
                            Customer Service Center
                        </div>
                        <div class="office-feature" onclick="openFeatureModal('digital-hub')">
                            <i></i>
                            Digital Services Hub
                        </div>
                        <div class="office-feature" onclick="openFeatureModal('claims-processing')">
                            <i></i>
                            Claims Processing Unit
                        </div>
                        <div class="office-feature" onclick="openFeatureModal('consultation')">
                            <i></i>
                            Consultation Rooms
                        </div>
                        <div class="office-feature" onclick="openFeatureModal('support-desk')">
                            <i></i>
                            24/7 Support Desk
                        </div>
                        <div class="office-feature" onclick="openFeatureModal('document-center')">
                            <i></i>
                            Secure Document Center
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3> Operating Hours</h3>
                    <div class="info-card">
                        <h4>Business Hours</h4>
                        <p><strong>Monday - Friday:</strong> 9:00 AM - 6:00 PM</p>
                        <p><strong>Saturday:</strong> 9:00 AM - 2:00 PM</p>
                        <p><strong>Sunday:</strong> Closed</p>
                        <p><strong>Emergency Support:</strong> Available 24/7</p>
                    </div>
                </div>

                <div class="modal-section">
                    <h3> Location & Contact</h3>
                    <div class="info-card">
                        <h4>South Extension Branch Office</h4>
                        <p><strong>Address:</strong> The Oriental Insurance Company Ltd. (OICL), No. G/8, NDSE 1, South Extension Part 1 Market, 1st Floor, Delhi - 110049</p>
                        <p><strong>Phone:</strong> +91-11-24626190</p>
                        <p><strong>Email:</strong> info@orientalinsurance.co.in</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Authentication Modal (Login/Signup) -->
        <div id="authModal" class="detail-modal auth-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Office Access Portal</h2>
                    <button class="modal-close" onclick="closeAuthModal()">&times;</button>
                </div>
                
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                    <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
                </div>

                <div class="auth-form-container">
                    <!-- Login Form -->
                    <div id="loginForm" class="auth-form active">
                        <div class="auth-form-group">
                            <label>Email Address *</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email" required>
                        </div>
                        <div class="auth-form-group">
                            <label>Password *</label>
                            <input type="password" id="loginPassword" placeholder="Enter your password" required>
                        </div>
                        <button class="auth-submit-btn" onclick="handleLogin()"> Access Office</button>
                        
                        <div class="auth-divider">
                            <span>or continue with</span>
                        </div>
                        
                        <button class="social-login-btn google-btn" onclick="socialLogin('google')">
                             Continue with Google
                        </button>
                        <button class="social-login-btn facebook-btn" onclick="socialLogin('facebook')">
                             Continue with Facebook
                        </button>
                    </div>

                    <!-- Signup Form -->
                    <div id="signupForm" class="auth-form">
                        <div class="auth-form-group">
                            <label>Full Name *</label>
                            <input type="text" id="signupName" placeholder="Enter your full name" required>
                        </div>
                        <div class="auth-form-group">
                            <label>Email Address *</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email" required>
                        </div>
                        <div class="auth-form-group">
                            <label>Phone Number *</label>
                            <input type="tel" id="signupPhone" placeholder="Enter your phone number" required>
                        </div>
                        <div class="auth-form-group">
                            <label>Password *</label>
                            <input type="password" id="signupPassword" placeholder="Create a password" required>
                        </div>
                        <div class="auth-form-group">
                            <label>Confirm Password *</label>
                            <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                        </div>
                        <button class="auth-submit-btn" onclick="handleSignup()"> Create Account & Access Office</button>
                        
                        <div class="auth-divider">
                            <span>or sign up with</span>
                        </div>
                        
                        <button class="social-login-btn google-btn" onclick="socialLogin('google')">
                             Sign up with Google
                        </button>
                        <button class="social-login-btn facebook-btn" onclick="socialLogin('facebook')">
                             Sign up with Facebook
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature Information Modals -->
        <div id="featureModal" class="detail-modal feature-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="featureTitle">Feature Information</h2>
                    <button class="modal-close" onclick="closeFeatureModal()">&times;</button>
                </div>
                
                <div class="modal-section" id="featureContent">
                    <!-- Content will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Side navigation -->
        <div class="side-nav">
            <div class="side-nav-icon" onclick="showInfo()"></div>
        </div>
        
        <!-- More options -->
        <div class="more-options">
            <div class="more-btn" onclick="showMenu()"></div>
        </div>
        
        <!-- Claim Details Modal -->
        <div id="claimDetailsModal" class="detail-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"> Detailed Claim Information</h2>
                    <button class="modal-close" onclick="closeClaimDetailsModal()">&times;</button>
                </div>
                
                <div class="claim-details-container">
                    <!-- Claim Overview Section -->
                    <div class="claim-section">
                        <h3> Claim Overview</h3>
                        <div class="claim-info-grid">
                            <div class="info-item">
                                <strong>Claim ID:</strong>
                                <span id="detailClaimId">CLM-2024-001</span>
                            </div>
                            <div class="info-item">
                                <strong>Policy Number:</strong>
                                <span id="detailPolicyNumber">HLT/2024/002</span>
                            </div>
                            <div class="info-item">
                                <strong>Claim Type:</strong>
                                <span id="detailClaimType">Hospitalization</span>
                            </div>
                            <div class="info-item">
                                <strong>Status:</strong>
                                <span id="detailClaimStatus" class="claim-status under-review">Under Review</span>
                            </div>
                            <div class="info-item">
                                <strong>Claim Amount:</strong>
                                <span id="detailClaimAmount">45,000</span>
                            </div>
                            <div class="info-item">
                                <strong>Date Submitted:</strong>
                                <span id="detailSubmissionDate">July 15, 2024</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hospital/Provider/Travel Details -->
                    <div class="claim-section" id="providerDetailsSection">
                        <h3 id="providerDetailsTitle"> Hospital/Provider Details</h3>
                        <div class="provider-info" id="providerDetailsContent">
                            <!-- Hospital Details (for health claims) -->
                            <div id="hospitalDetails" style="display: none;">
                                <div class="info-item">
                                    <strong>Hospital Name:</strong>
                                    <span id="detailHospitalName">Apollo Hospital</span>
                                </div>
                                <div class="info-item">
                                    <strong>Doctor Name:</strong>
                                    <span id="detailDoctorName">Dr. Rajesh Kumar</span>
                                </div>
                                <div class="info-item">
                                    <strong>Treatment Description:</strong>
                                    <span id="detailTreatmentDesc">Emergency surgery for appendicitis</span>
                                </div>
                                <div class="info-item">
                                    <strong>Admission Date:</strong>
                                    <span id="detailAdmissionDate">July 12, 2024</span>
                                </div>
                                <div class="info-item">
                                    <strong>Discharge Date:</strong>
                                    <span id="detailDischargeDate">July 14, 2024</span>
                                </div>
                            </div>
                            
                            <!-- Travel Details (for travel claims) -->
                            <div id="travelDetails" style="display: none;">
                                <div class="info-item">
                                    <strong>Travel Destination:</strong>
                                    <span id="detailTravelDestination">Europe</span>
                                </div>
                                <div class="info-item">
                                    <strong>Travel Date:</strong>
                                    <span id="detailTravelDate">September 2, 2025</span>
                                </div>
                                <div class="info-item">
                                    <strong>Claim Reason:</strong>
                                    <span id="detailClaimReason">Trip Cancellation</span>
                                </div>
                                <div class="info-item">
                                    <strong>Incident Description:</strong>
                                    <span id="detailIncidentDesc">Sudden home issues</span>
                                </div>
                                <div class="info-item">
                                    <strong>Trip Duration:</strong>
                                    <span id="detailTripDuration">7 days</span>
                                </div>
                            </div>
                            
                            <!-- Motor Details (for motor claims) -->
                            <div id="motorDetails" style="display: none;">
                                <div class="info-item">
                                    <strong>Vehicle:</strong>
                                    <span id="detailVehicleInfo">Honda Civic 2022</span>
                                </div>
                                <div class="info-item">
                                    <strong>Accident Location:</strong>
                                    <span id="detailAccidentLocation">MG Road, Bangalore</span>
                                </div>
                                <div class="info-item">
                                    <strong>Garage/Workshop:</strong>
                                    <span id="detailGarageName">Authorized Service Center</span>
                                </div>
                                <div class="info-item">
                                    <strong>Damage Type:</strong>
                                    <span id="detailDamageType">Front bumper damage</span>
                                </div>
                                <div class="info-item">
                                    <strong>Police Report:</strong>
                                    <span id="detailPoliceReport">Filed - FIR #12345</span>
                                </div>
                            </div>
                            
                            <!-- Home Details (for home claims) -->
                            <div id="homeDetails" style="display: none;">
                                <div class="info-item">
                                    <strong>Property Address:</strong>
                                    <span id="detailPropertyAddress">123 Main Street, City</span>
                                </div>
                                <div class="info-item">
                                    <strong>Damage Type:</strong>
                                    <span id="detailHomeDamageType">Water damage</span>
                                </div>
                                <div class="info-item">
                                    <strong>Cause of Loss:</strong>
                                    <span id="detailLossCause">Burst pipe</span>
                                </div>
                                <div class="info-item">
                                    <strong>Contractor/Repair Service:</strong>
                                    <span id="detailContractor">ABC Repair Services</span>
                                </div>
                                <div class="info-item">
                                    <strong>Property Inspection:</strong>
                                    <span id="detailPropertyInspection">Scheduled for Aug 10, 2025</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Claim Timeline -->
                    <div class="claim-section">
                        <h3> Claim Timeline</h3>
                        <div class="detailed-timeline" id="detailedClaimTimeline">
                            <div class="timeline-item completed">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Claim Reported</h4>
                                    <p>July 15, 2024 - 10:30 AM</p>
                                    <small>Claim successfully submitted online</small>
                                </div>
                            </div>
                            <div class="timeline-item completed">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Initial Verification</h4>
                                    <p>July 15, 2024 - 2:15 PM</p>
                                    <small>Policy details and eligibility verified</small>
                                </div>
                            </div>
                            <div class="timeline-item completed">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Surveyor Assignment</h4>
                                    <p>July 16, 2024 - 9:00 AM</p>
                                    <small>Assigned to: Mr. Amit Sharma (ID: SUR001)</small>
                                </div>
                            </div>
                            <div class="timeline-item active">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Document Collection</h4>
                                    <p>In Progress</p>
                                    <small>Medical records and bills being reviewed</small>
                                </div>
                            </div>
                            <div class="timeline-item pending">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Hospital Survey</h4>
                                    <p>Pending</p>
                                    <small>On-site verification scheduled</small>
                                </div>
                            </div>
                            <div class="timeline-item pending">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Medical Review</h4>
                                    <p>Pending</p>
                                    <small>Medical team assessment</small>
                                </div>
                            </div>
                            <div class="timeline-item pending">
                                <div class="timeline-icon"></div>
                                <div class="timeline-content">
                                    <h4>Final Decision</h4>
                                    <p>Pending</p>
                                    <small>Approval/rejection decision</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Documents Section -->
                    <div class="claim-section">
                        <h3> Submitted Documents</h3>
                        <div class="documents-list">
                            <div class="document-item">
                                <span class="doc-icon"></span>
                                <span class="doc-name">Hospital Discharge Summary</span>
                                <span class="doc-status verified"> Verified</span>
                            </div>
                            <div class="document-item">
                                <span class="doc-icon"></span>
                                <span class="doc-name">Medical Bills & Receipts</span>
                                <span class="doc-status verified"> Verified</span>
                            </div>
                            <div class="document-item">
                                <span class="doc-icon"></span>
                                <span class="doc-name">Diagnostic Reports</span>
                                <span class="doc-status pending"> Under Review</span>
                            </div>
                            <div class="document-item">
                                <span class="doc-icon"></span>
                                <span class="doc-name">Pre-authorization Form</span>
                                <span class="doc-status verified"> Verified</span>
                            </div>
                        </div>
                        
                        <div class="upload-more">
                            <button class="secondary-btn"> Upload Additional Documents</button>
                        </div>
                    </div>
                    
                    <!-- Communication Section -->
                    <div class="claim-section">
                        <h3> Communication Log</h3>
                        <div class="communication-log">
                            <div class="comm-item">
                                <div class="comm-header">
                                    <strong>System Notification</strong>
                                    <span class="comm-time">July 16, 2024 - 9:30 AM</span>
                                </div>
                                <p>Surveyor Mr. Amit Sharma has been assigned to your claim. Contact: +91-9876543300</p>
                            </div>
                            <div class="comm-item">
                                <div class="comm-header">
                                    <strong>You</strong>
                                    <span class="comm-time">July 15, 2024 - 6:45 PM</span>
                                </div>
                                <p>Additional lab reports uploaded as requested.</p>
                            </div>
                            <div class="comm-item">
                                <div class="comm-header">
                                    <strong>Claims Team</strong>
                                    <span class="comm-time">July 15, 2024 - 4:20 PM</span>
                                </div>
                                <p>Please upload latest blood test reports for complete assessment.</p>
                            </div>
                        </div>
                        
                        <div class="add-message">
                            <textarea placeholder="Type your message here..." rows="3"></textarea>
                            <button class="primary-btn"> Send Message</button>
                        </div>
                    </div>
                    
                    <!-- Actions Section -->
                    <div class="claim-section">
                        <h3> Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="primary-btn" onclick="trackClaimProgress()"> Track Progress</button>
                            <button class="secondary-btn" onclick="downloadClaimReport()"> Download Report</button>
                            <button class="secondary-btn" onclick="contactSurveyor()"> Contact Surveyor</button>
                            <button class="secondary-btn" onclick="scheduleCallback()"> Schedule Callback</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // AGGRESSIVE CLICK FIX - HIGHEST PRIORITY
        console.log(' AGGRESSIVE CLICK FIX: JavaScript loading started...');
        
        // IMMEDIATE EXECUTION - NO WAITING
        (function() {
            console.log(' IMMEDIATE CLICK FIX EXECUTION...');
            
            // Force enable all click events immediately
            const forceClickable = () => {
                console.log(' FORCING CLICKABLE ELEMENTS...');
                
                // Get all potentially clickable elements
                const door = document.querySelector('.office-door');
                const navCards = document.querySelectorAll('.nav-card');
                const chatBubble = document.querySelector('.chat-bubble');
                const jsTestBtn = document.querySelector('.js-test-btn');
                
                console.log(' Elements found:', {
                    door: !!door,
                    navCards: navCards.length,
                    chatBubble: !!chatBubble,
                    jsTestBtn: !!jsTestBtn
                });
                
                // DOOR - Force multiple click handlers
                if (door) {
                    door.style.cursor = 'pointer';
                    door.style.pointerEvents = 'auto';
                    door.style.zIndex = '9999';
                    
                    // Remove any existing handlers first
                    door.onclick = null;
                    door.removeEventListener('click', () => {});
                    
                    // Add multiple types of click handlers - DOOR ONLY
                    door.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        console.log(' DOOR CLICKED via onclick!');
                        // Directly call function without any fallbacks
                        openAuthModal();
                        return false;
                    };
                    
                    door.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();
                        console.log(' DOOR CLICKED via addEventListener!');
                        // Directly call function without any fallbacks
                        openAuthModal();
                        return false;
                    });
                    
                    door.addEventListener('mousedown', function(e) {
                        console.log(' DOOR MOUSEDOWN detected!');
                    });
                    
                    console.log(' Door handlers added successfully');
                } else {
                    console.log(' Door element not found');
                }
                
                // NAV CARDS - Force click handlers
                navCards.forEach((card, index) => {
                    if (card) {
                        card.style.cursor = 'pointer';
                        card.style.pointerEvents = 'auto';
                        card.style.zIndex = '9998';
                        
                        const types = ['policies', 'claims', 'support'];
                        
                        card.onclick = function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            e.stopImmediatePropagation();
                            console.log(` NAV CARD ${index} (${types[index]}) CLICKED!`);
                            // Directly call function without any fallbacks
                            openDetailModal(types[index]);
                            return false;
                        };
                        
                        card.addEventListener('click', function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            e.stopImmediatePropagation();
                            console.log(` NAV CARD ${index} addEventListener triggered!`);
                            // Directly call function without any fallbacks
                            openDetailModal(types[index]);
                            return false;
                        });
                        
                        console.log(` Nav card ${index} handlers added`);
                    }
                });
                
                // CHAT BUBBLE - Force click handler
                if (chatBubble) {
                    chatBubble.style.cursor = 'pointer';
                    chatBubble.style.pointerEvents = 'auto';
                    chatBubble.style.zIndex = '9997';
                    
                    chatBubble.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log(' CHAT BUBBLE CLICKED!');
                        interactWithAssistant();
                    };
                    
                    console.log(' Chat bubble handlers added');
                }
                
                // JS TEST BUTTON
                if (jsTestBtn) {
                    jsTestBtn.style.cursor = 'pointer';
                    jsTestBtn.style.pointerEvents = 'auto';
                    jsTestBtn.style.zIndex = '9996';
                    console.log(' JS Test button made clickable');
                }
                
                console.log(' ALL CLICK HANDLERS FORCED SUCCESSFULLY!');
            };
            
            // Execute immediately if DOM is ready, otherwise wait
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', forceClickable);
            } else {
                forceClickable();
            }
            
            // Also execute after a delay to be absolutely sure
            setTimeout(forceClickable, 100);
            setTimeout(forceClickable, 500);
            setTimeout(forceClickable, 1000);
            
        })();
        
        // ORIGINAL FUNCTIONS MUST BE DEFINED EARLY
        function openAuthModal() {
            console.log(' openAuthModal called!');
            try {
                const modal = document.getElementById('authModal');
                const chatBubble = document.querySelector('.chat-bubble');
                
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // Hide chat bubble when modal is open
                    if (chatBubble) {
                        chatBubble.style.display = 'none';
                    }
                    
                    console.log(' Auth modal opened successfully');
                } else {
                    console.log(' Auth modal element not found');
                    // Simple fallback without triggering assistant
                    console.log(' Door clicked - modal not available');
                }
            } catch (error) {
                console.error(' Error opening auth modal:', error);
                console.log(' Door clicked - error occurred');
            }
        }
        
        function openDetailModal(type) {
            console.log(' openDetailModal called with type:', type);
            try {
                const modal = document.getElementById(type + 'Modal');
                const chatBubble = document.querySelector('.chat-bubble');
                
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // Hide chat bubble when modal is open
                    if (chatBubble) {
                        chatBubble.style.display = 'none';
                    }
                    
                    // Reset claims modal to insurance type selection
                    if (type === 'claims') {
                        resetClaimsModal();
                    }
                    
                    // Fix for policy form inputs
                    if (type === 'policies') {
                        setTimeout(() => {
                            // Ensure all input fields are interactive
                            const inputs = modal.querySelectorAll('input, select, textarea');
                            inputs.forEach(input => {
                                input.style.pointerEvents = 'auto';
                                input.style.zIndex = '1000';
                                input.removeAttribute('disabled');
                                input.removeAttribute('readonly');
                            });
                            
                            // Focus first input
                            const firstInput = modal.querySelector('#policyFullName');
                            if (firstInput) {
                                firstInput.focus();
                            }
                        }, 100);
                    }
                    
                    console.log(' Modal opened:', type);
                } else {
                    console.log(' Modal not found:', type + 'Modal');
                    console.log(` ${type.toUpperCase()} clicked - modal not available`);
                }
            } catch (error) {
                console.error(' Error opening detail modal:', error);
                console.log(` ${type.toUpperCase()} clicked - error occurred`);
            }
        }
        
        function interactWithAssistant() {
            console.log(' interactWithAssistant called!');
            try {
                const chatModal = document.getElementById('chatModal');
                if (chatModal) {
                    chatModal.style.display = 'flex';
                    console.log(' Chat modal opened');
                } else {
                    console.log(' Chat modal not found');
                    alert(' CHAT CLICKED! Assistant would start here.');
                }
            } catch (error) {
                console.error(' Error opening chat:', error);
                alert(' CHAT CLICKED! (Error: ' + error.message + ')');
            }
        }
        
        // DEBUG FUNCTION FOR THE TEST BUTTON
        function testJavaScript() {
            const timestamp = new Date().toLocaleTimeString();
            alert(` SUCCESS!\n\nJavaScript is working perfectly!\n\nTime: ${timestamp}\n\nAll clicking should work now.\nCheck console for detailed logs.`);
            console.log(' DEBUG BUTTON CLICKED - JavaScript confirmed working!');
            
            // Test if all main functions exist
            const functions = ['openDetailModal', 'closeDetailModal', 'openAuthModal', 'closeAuthModal', 'interactWithAssistant'];
            functions.forEach(func => {
                if (typeof window[func] === 'function') {
                    console.log(` Function exists: ${func}`);
                } else {
                    console.log(` Function missing: ${func}`);
                }
            });
            
            // Re-force click handlers
            setTimeout(() => {
                const forceAgain = () => {
                    document.querySelectorAll('.office-door, .nav-card, .chat-bubble').forEach(el => {
                        el.style.cursor = 'pointer';
                        el.style.pointerEvents = 'auto';
                        el.style.zIndex = '9999';
                    });
                };
                forceAgain();
            }, 100);
        }
        
        function closeDetailModal(type) {
            const modal = document.getElementById(type + 'Modal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // Show chat bubble again when modal is closed
                if (chatBubble) {
                    chatBubble.style.display = 'flex';
                }
            }
        }
        
        // Insurance Type Selection Functions
        let selectedInsuranceType = '';
        
        function selectInsuranceType(type) {
            selectedInsuranceType = type;
            console.log(' Selected insurance type:', type);
            
            // Remove previous selections
            document.querySelectorAll('.insurance-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Highlight selected card
            event.target.closest('.insurance-card').classList.add('selected');
            
            // Update modal title and display
            const insuranceNames = {
                'health': ' Health Insurance',
                'motor': ' Motor Insurance', 
                'home': ' Home Insurance',
                'travel': ' Travel Insurance',
                'marine': ' Marine Insurance',
                'fire': ' Fire Insurance'
            };
            
            document.querySelector('.modal-title').textContent = 
                ` ${insuranceNames[type]} Claim Processing`;
            
            // Show verification step after selection
            setTimeout(() => {
                document.getElementById('insuranceTypeStep').style.display = 'none';
                document.getElementById('processInfoSection').style.display = 'none'; // Hide process steps
                document.getElementById('customerVerificationStep').style.display = 'block';
                document.getElementById('selectedInsuranceDisplay').textContent = insuranceNames[type];
                
                // Update policy number placeholder based on insurance type
                const policyInput = document.getElementById('policyNumberInput');
                const placeholders = {
                    'health': 'Enter health policy number (e.g., HLT/2024/002)',
                    'motor': 'Enter motor policy number (e.g., MOT/2024/001)', 
                    'home': 'Enter home policy number (e.g., HOM/2024/003)',
                    'travel': 'Enter travel policy number (e.g., TRV/2024/004)',
                    'marine': 'Enter marine policy number (e.g., MAR/2024/005)',
                    'fire': 'Enter fire policy number (e.g., FIR/2024/006)'
                };
                policyInput.placeholder = placeholders[type];
                
                console.log(` Proceeded to verification for ${type} insurance`);
            }, 500);
        }
        
        function resetClaimsModal() {
            // Reset to insurance type selection
            selectedInsuranceType = '';
            document.getElementById('insuranceTypeStep').style.display = 'block';
            document.getElementById('processInfoSection').style.display = 'block'; // Show process steps again
            document.getElementById('customerVerificationStep').style.display = 'none';
            document.getElementById('claimFormStep').style.display = 'none';
            document.getElementById('claimStatusStep').style.display = 'none';
            
            // Reset title
            document.querySelector('.modal-title').textContent = ' Insurance Claim Processing System';
            
            // Clear selections
            document.querySelectorAll('.insurance-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Clear forms
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.value = '';
            });
            
            console.log(' Claims modal reset to insurance type selection');
        }
        
        // Enhanced Policy Form Functions
        function updatePolicyDetails() {
            const policyType = document.getElementById('policyType').value;
            
            // Hide all policy-specific fields first
            document.querySelectorAll('.policy-specific-fields').forEach(field => {
                field.style.display = 'none';
            });
            
            // Show relevant fields based on policy type
            if (policyType) {
                const fieldId = policyType + 'Fields';
                const fieldElement = document.getElementById(fieldId);
                if (fieldElement) {
                    fieldElement.style.display = 'block';
                }
                
                // Show policy preview
                document.getElementById('policyPreview').style.display = 'block';
                generatePolicyPreview(policyType);
            } else {
                document.getElementById('policyPreview').style.display = 'none';
            }
        }
        
        function generatePolicyPreview(policyType) {
            const previewContent = document.getElementById('previewContent');
            
            const policyInfo = {
                motor: {
                    title: ' Motor Insurance Preview',
                    features: [
                        'Third Party Liability Coverage',
                        'Own Damage Protection',
                        'Personal Accident Cover',
                        'Zero Depreciation (Optional)',
                        'Roadside Assistance 24/7'
                    ],
                    estimatedPremium: '15,000 - 25,000',
                    coverage: '5,00,000'
                },
                health: {
                    title: ' Health Insurance Preview',
                    features: [
                        'Hospitalization Coverage',
                        'Pre & Post Hospitalization',
                        'Daycare Procedures',
                        'Ambulance Charges',
                        'Annual Health Check-up'
                    ],
                    estimatedPremium: '20,000 - 35,000',
                    coverage: '10,00,000'
                },
                home: {
                    title: ' Home Insurance Preview',
                    features: [
                        'Building Structure Protection',
                        'Contents Coverage',
                        'Natural Calamities Cover',
                        'Theft & Burglary Protection',
                        'Public Liability'
                    ],
                    estimatedPremium: '12,000 - 20,000',
                    coverage: '20,00,000'
                },
                travel: {
                    title: ' Travel Insurance Preview',
                    features: [
                        'Medical Emergency Coverage',
                        'Trip Cancellation',
                        'Baggage Loss/Delay',
                        'Flight Delay Compensation',
                        'Emergency Evacuation'
                    ],
                    estimatedPremium: '2,000 - 5,000',
                    coverage: '2,00,000'
                }
            };
            
            const info = policyInfo[policyType];
            if (!info) return;
            
            previewContent.innerHTML = `
                <h5>${info.title}</h5>
                <div class="preview-item">
                    <span class="preview-label">Estimated Premium:</span>
                    <span class="preview-value">${info.estimatedPremium}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Coverage Amount:</span>
                    <span class="preview-value">${info.coverage}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Key Features:</span>
                    <span class="preview-value">${info.features.length} Benefits</span>
                </div>
                <div style="margin-top: 10px;">
                    <strong> Key Benefits:</strong>
                    <ul style="margin: 5px 0; padding-left: 20px;">
                        ${info.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                </div>
            `;
        }
        
        function submitPolicyForm() {
            const form = document.querySelector('#policiesModal .registration-form');
            if (!form) {
                console.error('Policy form not found');
                return;
            }
            
            // Show loading state
            const submitBtn = form.querySelector('.submit-btn');
            const originalText = submitBtn.innerHTML;
            submitBtn.classList.add('loading');
            submitBtn.innerHTML = ' Creating Your Policy...';
            submitBtn.disabled = true;
            
            // Collect all form data
            const formData = {};
            const inputs = form.querySelectorAll('input, select, textarea');
            let isValid = true;
            const errors = [];
            
            inputs.forEach(input => {
                const value = input.value.trim();
                const fieldName = input.name || input.id;
                
                // Basic validation
                if (input.required && !value) {
                    isValid = false;
                    input.classList.add('error');
                    errors.push(`${input.previousElementSibling.textContent.replace('*', '')} is required`);
                } else {
                    input.classList.remove('error');
                    input.classList.add('success');
                }
                
                if (value) {
                    formData[fieldName] = value;
                }
            });
            
            // Email validation
            const email = formData.email;
            if (email && !isValidEmail(email)) {
                isValid = false;
                errors.push('Please enter a valid email address');
                document.getElementById('policyEmail').classList.add('error');
            }
            
            // Phone validation
            const phone = formData.phone;
            if (phone && !isValidPhone(phone)) {
                isValid = false;
                errors.push('Please enter a valid phone number');
                document.getElementById('policyPhone').classList.add('error');
            }
            
            if (!isValid) {
                // Reset button
                submitBtn.classList.remove('loading');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                alert(' Please fix the following errors:\n\n' + errors.join('\n'));
                return;
            }
            
            // Collect policy-specific data
            const policyType = formData.policyType;
            const policySpecificData = collectPolicySpecificData(policyType);
            
            // Merge all data
            const completeData = {
                ...formData,
                ...policySpecificData,
                applicationDate: new Date().toISOString().split('T')[0],
                userAgent: navigator.userAgent,
                referenceId: 'WEB_' + Date.now()
            };
            
            console.log(' Submitting policy application:', completeData);
            
            // Submit to backend
            fetch('http://localhost:5000/api/policies/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(completeData)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log(' Policy creation response:', data);
                
                if (data.success) {
                    displayPolicySuccess(data.data, data.nextSteps);
                } else {
                    throw new Error(data.message || 'Policy creation failed');
                }
            })
            .catch(error => {
                console.log(' Backend error, showing demo success:', error.message);
                
                // Fallback demo mode
                const demoPolicy = createDemoPolicyData(completeData);
                displayPolicySuccess(demoPolicy, [
                    'Demo mode: Policy preview generated',
                    'Backend connection will be established for production',
                    'All data collected successfully',
                    'Ready for backend integration'
                ]);
            })
            .finally(() => {
                // Reset button
                submitBtn.classList.remove('loading');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            });
        }
        
        function collectPolicySpecificData(policyType) {
            const specificData = {};
            
            switch (policyType) {
                case 'motor':
                    specificData.vehicleDetails = {
                        model: document.getElementById('vehicleModel')?.value,
                        year: document.getElementById('vehicleYear')?.value,
                        registrationNumber: document.getElementById('vehicleNumber')?.value,
                        fuelType: document.getElementById('fuelType')?.value
                    };
                    break;
                    
                case 'health':
                    specificData.healthDetails = {
                        sumInsured: document.getElementById('healthSumInsured')?.value,
                        familyMembers: document.getElementById('familyMembers')?.value,
                        medicalConditions: document.getElementById('medicalConditions')?.value
                    };
                    break;
                    
                case 'home':
                    specificData.homeDetails = {
                        propertyType: document.getElementById('propertyType')?.value,
                        builtUpArea: document.getElementById('builtUpArea')?.value,
                        propertyValue: document.getElementById('propertyValue')?.value,
                        constructionYear: document.getElementById('constructionYear')?.value
                    };
                    break;
                    
                case 'travel':
                    specificData.travelDetails = {
                        tripType: document.getElementById('tripType')?.value,
                        tripDuration: document.getElementById('tripDuration')?.value,
                        destinations: document.getElementById('destinations')?.value,
                        travelerCount: document.getElementById('travelerCount')?.value
                    };
                    break;
            }
            
            return specificData;
        }
        
        function createDemoPolicyData(formData) {
            const policyTypePrefix = {
                'motor': 'MOT',
                'health': 'HLT',
                'home': 'HOM',
                'travel': 'TRV'
            };
            
            const year = new Date().getFullYear();
            const randomNum = Math.floor(Math.random() * 9000) + 1000;
            const policyNumber = `${policyTypePrefix[formData.policyType]}/${year}/${randomNum}`;
            
            return {
                id: 'POL_DEMO_' + Date.now(),
                policyNumber,
                customerName: formData.fullName,
                email: formData.email,
                phone: formData.phone,
                policyType: formData.policyType,
                premium: Math.floor(Math.random() * 20000) + 10000,
                coverageAmount: 500000,
                startDate: new Date().toISOString().split('T')[0],
                endDate: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                status: 'active',
                features: getPolicyFeatures(formData.policyType)
            };
        }
        
        function getPolicyFeatures(policyType) {
            const features = {
                motor: ['Third Party Liability', 'Own Damage Protection', 'Personal Accident Cover', 'Roadside Assistance'],
                health: ['Hospitalization Coverage', 'Pre & Post Hospitalization', 'Daycare Procedures', 'Ambulance Charges'],
                home: ['Building Protection', 'Contents Coverage', 'Natural Calamities', 'Theft Protection'],
                travel: ['Medical Emergency', 'Trip Cancellation', 'Baggage Protection', 'Flight Delay']
            };
            return features[policyType] || [];
        }
        
        function displayPolicySuccess(policyData, nextSteps) {
            // Close the modal first
            closeDetailModal('policies');
            
            // Create enhanced success popup
            setTimeout(() => {
                showPolicySuccessPopup(policyData, nextSteps);
            }, 500);
        }
        
        function showPolicySuccessPopup(policyData, nextSteps) {
            // Create popup element
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 15000;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease-out;
            `;
            
            popup.innerHTML = `
                <div style="
                    background: white;
                    color: #333;
                    padding: 40px;
                    border-radius: 20px;
                    text-align: center;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    animation: slideIn 0.4s ease-out;
                    margin: 20px;
                ">
                    <div style="font-size: 60px; margin-bottom: 20px;"></div>
                    <h2 style="margin: 0 0 20px 0; font-size: 28px;">Policy Application Successful!</h2>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 25px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 20px;"> Policy Details</h3>
                        <div style="display: grid; gap: 10px; font-size: 16px;">
                            <div><strong>Policy Number:</strong> <span style="color: #007bff; font-weight: bold; font-size: 18px;">${policyData.policyNumber}</span></div>
                            <div><strong>Customer Name:</strong> ${policyData.customerName}</div>
                            <div><strong>Policy Type:</strong> ${policyData.policyType?.toUpperCase()} Insurance</div>
                            <div><strong>Premium:</strong> ${policyData.premium?.toLocaleString()}</div>
                            <div><strong>Coverage:</strong> ${policyData.coverageAmount?.toLocaleString()}</div>
                            <div><strong>Start Date:</strong> ${policyData.startDate}</div>
                            <div><strong>Status:</strong> <span style="color: #007bff; font-weight: bold;">${policyData.status?.toUpperCase()}</span></div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 18px;"> Email Confirmation</h3>
                        <div style="text-align: center; font-size: 16px;">
                            <div style="color: #007bff; font-weight: bold; margin-bottom: 10px;"> Confirmation email sent to: ${policyData.email}</div>
                            <div style="font-size: 14px; opacity: 0.9;">Please check your inbox and spam folder</div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 18px;"> Next Steps</h3>
                        <ul style="margin: 0; padding-left: 20px; text-align: left;">
                            ${nextSteps?.map(step => `<li style="margin: 8px 0;">${step}</li>`).join('') || '<li>Policy documents will be sent to your email</li>'}
                        </ul>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 15px; border-radius: 15px; margin: 20px 0;">
                        <div style="font-size: 14px; opacity: 0.9;">
                            <strong>Customer Support:</strong> 1800-XXX-XXXX<br>
                            <strong>Email:</strong> support@orientalinsurance.com
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button onclick="this.closest('div').parentElement.remove()" style="
                            background: #6c757d;
                            border: 2px solid #6c757d;
                            color: white;
                            padding: 12px 30px;
                            border-radius: 30px;
                            cursor: pointer;
                            font-weight: bold;
                            font-size: 16px;
                            margin: 0 10px;
                            transition: all 0.3s ease;
                        " onmouseover="this.style.background='#5a6268'" onmouseout="this.style.background='#6c757d'">Close</button>
                        
                        <button onclick="window.open('mailto:${policyData.email}?subject=Policy ${policyData.policyNumber} - Quick Access', '_blank')" style="
                            background: #007bff;
                            border: 2px solid #007bff;
                            color: white;
                            padding: 12px 30px;
                            border-radius: 30px;
                            cursor: pointer;
                            font-weight: bold;
                            font-size: 16px;
                            margin: 0 10px;
                            transition: all 0.3s ease;
                        " onmouseover="this.style.background='#0056b3'" onmouseout="this.style.background='#007bff'"> Open Email</button>
                    </div>
                </div>
            `;
            
            // Add animation keyframes if not already added
            if (!document.querySelector('#policy-popup-styles')) {
                const style = document.createElement('style');
                style.id = 'policy-popup-styles';
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes slideIn {
                        from { opacity: 0; transform: scale(0.8) translateY(-50px); }
                        to { opacity: 1; transform: scale(1) translateY(0); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(popup);
            
            // Auto-remove after 30 seconds
            setTimeout(() => {
                if (popup.parentElement) popup.remove();
            }, 30000);
        }
        
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        function isValidPhone(phone) {
            const phoneRegex = /^[+]?[\d\s\-\(\)]{10,}$/;
            return phoneRegex.test(phone) && phone.replace(/\D/g, '').length >= 10;
        }
        
        // Form Submission Functions
        function submitPolicyForm_OLD() {
            const form = event.target.closest('.registration-form');
            const formData = new FormData();
            
            // Collect form data
            const inputs = form.querySelectorAll('input, select, textarea');
            let isValid = true;
            
            inputs.forEach(input => {
                if (input.required && !input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#ff6b6b';
                } else {
                    input.style.borderColor = '#dee2e6';
                    formData.append(input.name || input.placeholder, input.value);
                }
            });
            
            if (isValid) {
                // Simulate API call
                fetch('http://localhost:5000/api/policies/register', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    alert(' Policy application submitted successfully!\n\nReference Number: POL' + Date.now() + '\n\nOur team will contact you within 24 hours.');
                    closeDetailModal('policies');
                })
                .catch(error => {
                    alert(' Policy application received!\n\nReference Number: POL' + Date.now() + '\n\nNote: Backend service will process your request.');
                    closeDetailModal('policies');
                });
            } else {
                alert(' Please fill all required fields.');
            }
        }
        
        // Enhanced Health Claim System Functions
        let currentCustomer = null;
        let currentPolicy = null;

        function verifyCustomer() {
            const policyNumber = document.getElementById('policyNumberInput').value.trim();
            
            if (!policyNumber) {
                alert(' Please enter a policy number');
                return;
            }

            // Show loading state
            const verifyBtn = document.querySelector('.verify-btn');
            verifyBtn.innerHTML = ' Verifying...';
            verifyBtn.disabled = true;

            // Encode policy number for URL (handle slashes properly)
            const encodedPolicyNumber = encodeURIComponent(policyNumber);

            // Call API to verify customer and fetch details
            fetch(`http://localhost:5000/api/policies/number/${encodedPolicyNumber}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        // Transform the policy data to match expected format
                        const customerName = data.data.customerName || data.data.fullName || 'Unknown Customer';
                        const nameParts = customerName.split(' ');
                        currentCustomer = {
                            firstName: nameParts[0] || customerName,
                            lastName: nameParts.slice(1).join(' ') || '',
                            email: data.data.email,
                            phone: data.data.phone,
                            address: data.data.address || 'Address not available',
                            dateOfBirth: data.data.dateOfBirth || 'Not provided'
                        };
                        currentPolicy = {
                            policyNumber: data.data.policyNumber,
                            type: data.data.policyType,
                            premium: data.data.premium,
                            coverageAmount: data.data.coverageAmount,
                            startDate: data.data.startDate,
                            endDate: data.data.endDate,
                            status: data.data.status,
                            features: data.data.features,
                            benefits: data.data.benefits
                        };
                        displayCustomerDetails({customer: currentCustomer, policy: currentPolicy});
                    } else {
                        throw new Error(data.message || 'Policy not found. Please check the policy number.');
                    }
                })
                .catch(error => {
                    console.error('Policy lookup error:', error);
                    // Show user-friendly error message
                    alert(` ${error.message}\n\nPlease verify the policy number and try again.\n\nYour policy HLT/2025/6265 should work!`);
                    verifyBtn.innerHTML = ' Verify Customer';
                    verifyBtn.disabled = false;
                });
        }

        function displayCustomerDetails(data) {
            const { customer, policy } = data;
            
            // Populate customer details
            document.getElementById('customerName').textContent = `${customer.firstName} ${customer.lastName}`;
            document.getElementById('customerEmail').textContent = customer.email;
            document.getElementById('customerPhone').textContent = customer.phone;
            
            // Handle policy status - our API returns 'approved' or 'active'
            const displayStatus = policy.status === 'approved' || policy.status === 'active' ? 'Active' : policy.status;
            document.getElementById('policyStatus').textContent = displayStatus;
            document.getElementById('policyStatus').className = (policy.status === 'approved' || policy.status === 'active') ? 'status-active' : 'status-inactive';
            
            // Medical history - use default values for health insurance
            document.getElementById('bloodGroup').textContent = customer.bloodGroup || 'Not specified';
            document.getElementById('allergies').textContent = customer.allergies || 'None reported';
            document.getElementById('chronicConditions').textContent = customer.chronicConditions || 'None reported';
            
            // Show customer details section
            document.getElementById('customerDetails').style.display = 'block';
            
            // Reset verify button
            const verifyBtn = document.querySelector('.verify-btn');
            verifyBtn.innerHTML = ' Verified';
            verifyBtn.disabled = true;
            verifyBtn.style.background = '#007bff';

            // Check if policy is eligible for claims
            console.log(' Debugging policy status:');
            console.log('   Policy status:', policy.status);
            console.log('   Policy status type:', typeof policy.status);
            console.log('   Policy status lowercase:', policy.status ? policy.status.toLowerCase() : 'null/undefined');
            
            const eligibleForClaim = policy.status && (
                policy.status.toLowerCase() === 'approved' || 
                policy.status.toLowerCase() === 'active'
            );
            
            console.log('   Eligible for claim:', eligibleForClaim);
            
            if (!eligibleForClaim) {
                console.log(' Policy not eligible - showing alert');
                alert(' Policy is not active or not eligible for claims');
                return;
            } else {
                console.log(' Policy is eligible for claims - proceeding');
            }
        }

        function checkExistingClaims() {
            // Show loading state
            document.getElementById('customerVerificationStep').style.display = 'none';
            document.getElementById('claimStatusStep').style.display = 'block';
            
            const policyNumber = currentPolicy.policyNumber;
            console.log('Checking existing claims for policy:', policyNumber);
            
            // Call API to check existing claims for this policy
            fetch(`http://localhost:5000/api/claims/policy/${encodeURIComponent(policyNumber)}`)
                .then(response => response.json())
                .then(data => {
                    console.log('Claims API response:', data);
                    if (data.success) {
                        const policyClaims = data.data;
                        console.log('Found claims for policy:', policyClaims);
                        
                        if (policyClaims.length > 0) {
                            // Filter only pending/active claims (not completed ones)
                            const pendingClaims = policyClaims.filter(claim => 
                                claim.status !== 'Approved' && 
                                claim.status !== 'Paid' && 
                                claim.status !== 'Closed'
                            );
                            console.log('Pending claims after filter:', pendingClaims);
                            
                            if (pendingClaims.length > 0) {
                                displayExistingClaims(pendingClaims);
                            } else {
                                displayNoClaims();
                            }
                        } else {
                            displayNoClaims();
                        }
                    } else {
                        console.error('Error fetching claims:', data.message);
                        // Fallback to no claims if API fails
                        displayNoClaims();
                    }
                })
                .catch(error => {
                    console.error('Error fetching claims:', error);
                    // Fallback to no claims if API fails
                    displayNoClaims();
                });
        }

        function displayNoClaims() {
            document.getElementById('existingClaimsContainer').innerHTML = '';
            document.getElementById('noExistingClaims').style.display = 'block';
            document.getElementById('existingClaimsFound').style.display = 'none';
        }

        // Store current claims for details view
        let currentClaimsData = [];

        function displayExistingClaims(claims) {
            // Store claims data globally for details view
            currentClaimsData = claims;
            
            document.getElementById('noExistingClaims').style.display = 'none';
            document.getElementById('existingClaimsFound').style.display = 'block';
            
            const claimsList = document.getElementById('claimsList');
            claimsList.innerHTML = claims.map((claim, index) => {
                // Determine appropriate provider/location based on claim type
                let providerInfo = 'N/A';
                const claimType = claim.type?.toLowerCase() || '';
                const policyType = claim.policyNumber?.substring(0, 3)?.toLowerCase() || '';
                
                if (claimType.includes('health') || policyType === 'hlt') {
                    providerInfo = claim.hospitalName || 'Medical facility not specified';
                } else if (claimType.includes('travel') || policyType === 'trv') {
                    providerInfo = claim.travelDestination || 'Destination not specified';
                } else if (claimType.includes('motor') || policyType === 'mot') {
                    providerInfo = claim.incidentLocation || claim.vehicleDetails?.garageName || 'Location not specified';
                } else if (claimType.includes('home') || policyType === 'hom') {
                    providerInfo = claim.propertyAddress || 'Property address not specified';
                }
                
                return `
                <div class="claim-item" data-claim-index="${index}">
                    <div class="claim-header">
                        <span class="claim-id">${claim.id}</span>
                        <span class="claim-status ${claim.status.toLowerCase().replace(' ', '-')}">${claim.status}</span>
                    </div>
                    <div class="claim-details">
                        <div><strong>Type:</strong> ${claim.type || claim.claimType}</div>
                        <div><strong>Amount:</strong> ${(claim.estimatedAmount || claim.amount || 0).toLocaleString()}</div>
                        <div><strong>Date Submitted:</strong> ${new Date(claim.reportedDate || claim.created_at).toLocaleDateString()}</div>
                        <div><strong>Location/Provider:</strong> ${providerInfo}</div>
                        <div><strong>Description:</strong> ${claim.description}</div>
                        ${claim.assignedSurveyor ? `<div><strong>Surveyor:</strong> ${claim.assignedSurveyor.name}</div>` : ''}
                    </div>
                </div>
            `;
            }).join('');
        }

        function viewClaimDetails(claimIndex = 0) {
            console.log(' Opening detailed claim view...');
            
            // Hide the claims modal
            const claimsModal = document.getElementById('claimsModal');
            if (claimsModal) {
                claimsModal.style.display = 'none';
            }
            
            // Show the claim details modal
            const detailsModal = document.getElementById('claimDetailsModal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            if (detailsModal) {
                detailsModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                
                // Hide chat bubble when modal is open
                if (chatBubble) {
                    chatBubble.style.display = 'none';
                }
                
                // Populate with current claim data
                const claimData = currentClaimsData[claimIndex] || currentClaimsData[0];
                populateClaimDetails(claimData);
                
                console.log(' Claim details modal opened for claim:', claimData?.id);
            } else {
                console.log(' Claim details modal not found');
                alert(' Claim Details View\n\nThis would redirect to a detailed claims tracking page where you can:\n\n View complete claim history\n Track claim progress\n Upload additional documents\n Communicate with claims team\n Check payment status\n\nFor now, this is a demo placeholder.');
            }
        }
        
        function closeClaimDetailsModal() {
            const detailsModal = document.getElementById('claimDetailsModal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            if (detailsModal) {
                detailsModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // Show chat bubble again when modal is closed
                if (chatBubble) {
                    chatBubble.style.display = 'flex';
                }
                
                // Re-open the claims modal
                const claimsModal = document.getElementById('claimsModal');
                if (claimsModal) {
                    claimsModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // Hide chat bubble again since claims modal is open
                    if (chatBubble) {
                        chatBubble.style.display = 'none';
                    }
                }
            }
        }
        
        function populateClaimDetails(claimData) {
            if (!claimData) {
                console.log('No claim data provided, using default data');
                // Default health claim data
                claimData = {
                    id: 'CLM-2024-001',
                    policyNumber: currentPolicy?.policyNumber || 'HLT/2024/002',
                    type: 'Health Claim',
                    claimType: 'Hospitalization',
                    status: 'Under Review',
                    estimatedAmount: 45000,
                    reportedDate: '2024-07-15',
                    hospitalName: 'Apollo Hospital',
                    treatmentDetails: {
                        doctorName: 'Dr. Rajesh Kumar',
                        diagnosis: 'Emergency surgery for appendicitis',
                        admissionDate: '2024-07-12',
                        dischargeDate: '2024-07-14'
                    }
                };
            }
            
            console.log(' Populating claim details for:', claimData);
            
            // Update basic claim information
            if (document.getElementById('detailClaimId')) {
                document.getElementById('detailClaimId').textContent = claimData.id;
            }
            if (document.getElementById('detailPolicyNumber')) {
                document.getElementById('detailPolicyNumber').textContent = claimData.policyNumber;
            }
            if (document.getElementById('detailClaimType')) {
                document.getElementById('detailClaimType').textContent = claimData.claimType || claimData.type;
            }
            if (document.getElementById('detailClaimStatus')) {
                const statusElement = document.getElementById('detailClaimStatus');
                statusElement.textContent = claimData.status;
                statusElement.className = `claim-status ${claimData.status.toLowerCase().replace(' ', '-')}`;
            }
            if (document.getElementById('detailClaimAmount')) {
                document.getElementById('detailClaimAmount').textContent = `${(claimData.estimatedAmount || claimData.amount || 0).toLocaleString()}`;
            }
            if (document.getElementById('detailSubmissionDate')) {
                const submissionDate = claimData.reportedDate || claimData.created_at || claimData.incidentDate;
                document.getElementById('detailSubmissionDate').textContent = new Date(submissionDate).toLocaleDateString();
            }
            
            // Hide all provider detail sections first
            document.getElementById('hospitalDetails').style.display = 'none';
            document.getElementById('travelDetails').style.display = 'none';
            document.getElementById('motorDetails').style.display = 'none';
            document.getElementById('homeDetails').style.display = 'none';
            
            // Determine claim type and show appropriate details
            const claimType = claimData.type?.toLowerCase() || claimData.claimType?.toLowerCase() || '';
            const policyType = claimData.policyNumber?.substring(0, 3)?.toLowerCase() || '';
            
            console.log(' Claim type detection:', { claimType, policyType, rawType: claimData.type });
            
            if (claimType.includes('health') || claimType.includes('medical') || policyType === 'hlt') {
                // Health/Medical claim - ONLY for health insurance
                document.getElementById('providerDetailsTitle').innerHTML = ' Hospital/Medical Details';
                document.getElementById('hospitalDetails').style.display = 'block';
                
                // Populate hospital details
                if (document.getElementById('detailHospitalName')) {
                    document.getElementById('detailHospitalName').textContent = claimData.hospitalName || 'Not specified';
                }
                if (document.getElementById('detailDoctorName')) {
                    document.getElementById('detailDoctorName').textContent = claimData.treatmentDetails?.doctorName || 'Not specified';
                }
                if (document.getElementById('detailTreatmentDesc')) {
                    document.getElementById('detailTreatmentDesc').textContent = claimData.description || claimData.treatmentDetails?.diagnosis || 'Not specified';
                }
                if (document.getElementById('detailAdmissionDate')) {
                    document.getElementById('detailAdmissionDate').textContent = claimData.treatmentDetails?.admissionDate || 'Not specified';
                }
                if (document.getElementById('detailDischargeDate')) {
                    document.getElementById('detailDischargeDate').textContent = claimData.treatmentDetails?.dischargeDate || 'Not specified';
                }
                
            } else if (claimType.includes('travel') || policyType === 'trv') {
                // Travel claim - show travel-specific details
                document.getElementById('providerDetailsTitle').innerHTML = ' Travel Details';
                document.getElementById('travelDetails').style.display = 'block';
                
                // Populate travel details
                if (document.getElementById('detailTravelDestination')) {
                    document.getElementById('detailTravelDestination').textContent = claimData.travelDestination || 'Not specified';
                }
                if (document.getElementById('detailTravelDate')) {
                    document.getElementById('detailTravelDate').textContent = new Date(claimData.incidentDate || claimData.travelDate).toLocaleDateString();
                }
                if (document.getElementById('detailClaimReason')) {
                    document.getElementById('detailClaimReason').textContent = claimData.claimType || 'Not specified';
                }
                if (document.getElementById('detailIncidentDesc')) {
                    document.getElementById('detailIncidentDesc').textContent = claimData.description || 'Not specified';
                }
                if (document.getElementById('detailTripDuration')) {
                    document.getElementById('detailTripDuration').textContent = claimData.tripDuration || 'Not specified';
                }
                
            } else if (claimType.includes('motor') || claimType.includes('vehicle') || policyType === 'mot') {
                // Motor claim - show vehicle-specific details
                document.getElementById('providerDetailsTitle').innerHTML = ' Vehicle/Accident Details';
                document.getElementById('motorDetails').style.display = 'block';
                
                // Populate motor details with actual data
                if (document.getElementById('detailVehicleInfo')) {
                    const regNumber = claimData.vehicleDetails?.registrationNumber || 'Not specified';
                    document.getElementById('detailVehicleInfo').textContent = regNumber;
                }
                if (document.getElementById('detailAccidentLocation')) {
                    document.getElementById('detailAccidentLocation').textContent = claimData.incidentLocation || 'Not specified';
                }
                if (document.getElementById('detailGarageName')) {
                    document.getElementById('detailGarageName').textContent = claimData.vehicleDetails?.garageName || 'Not assigned';
                }
                if (document.getElementById('detailDamageType')) {
                    document.getElementById('detailDamageType').textContent = claimData.description || 'Not specified';
                }
                if (document.getElementById('detailPoliceReport')) {
                    const firNumber = claimData.vehicleDetails?.firNumber || null;
                    document.getElementById('detailPoliceReport').textContent = firNumber ? `Filed - FIR #${firNumber}` : 'Not filed';
                }
                
            } else if (claimType.includes('home') || claimType.includes('property') || policyType === 'hom') {
                // Home claim - show property-specific details
                document.getElementById('providerDetailsTitle').innerHTML = ' Property Details';
                document.getElementById('homeDetails').style.display = 'block';
                
                // Populate home details
                if (document.getElementById('detailPropertyAddress')) {
                    document.getElementById('detailPropertyAddress').textContent = claimData.propertyAddress || 'Not specified';
                }
                if (document.getElementById('detailHomeDamageType')) {
                    document.getElementById('detailHomeDamageType').textContent = claimData.damageType || claimData.description || 'Not specified';
                }
                if (document.getElementById('detailLossCause')) {
                    document.getElementById('detailLossCause').textContent = claimData.lossCause || 'Not specified';
                }
                if (document.getElementById('detailContractor')) {
                    document.getElementById('detailContractor').textContent = claimData.contractor || 'Not assigned';
                }
                if (document.getElementById('detailPropertyInspection')) {
                    document.getElementById('detailPropertyInspection').textContent = claimData.inspectionDate || 'Not scheduled';
                }
            } else {
                // Default case - determine by policy number if claim type is unclear
                if (policyType === 'hlt') {
                    document.getElementById('providerDetailsTitle').innerHTML = ' Hospital/Medical Details';
                    document.getElementById('hospitalDetails').style.display = 'block';
                } else if (policyType === 'trv') {
                    document.getElementById('providerDetailsTitle').innerHTML = ' Travel Details';
                    document.getElementById('travelDetails').style.display = 'block';
                } else if (policyType === 'mot') {
                    document.getElementById('providerDetailsTitle').innerHTML = ' Vehicle/Accident Details';
                    document.getElementById('motorDetails').style.display = 'block';
                } else if (policyType === 'hom') {
                    document.getElementById('providerDetailsTitle').innerHTML = ' Property Details';
                    document.getElementById('homeDetails').style.display = 'block';
                } else {
                    // Last resort - show generic provider details
                    document.getElementById('providerDetailsTitle').innerHTML = ' Claim Details';
                    document.getElementById('hospitalDetails').style.display = 'block';
                    // But populate with generic claim info instead of hospital
                    if (document.getElementById('detailHospitalName')) {
                        document.getElementById('detailHospitalName').textContent = 'Not applicable for this claim type';
                    }
                }
            }
            
            // Update timeline with actual claim data
            updateClaimTimeline(claimData);
            
            console.log(' Claim details populated successfully for', claimType, 'claim');
        }
        
        function updateClaimTimeline(claimData) {
            const timelineContainer = document.getElementById('detailedClaimTimeline');
            if (!timelineContainer || !claimData.timeline) {
                console.log('No timeline data available');
                return;
            }
            
            timelineContainer.innerHTML = claimData.timeline.map(item => {
                const statusClass = item.completed ? 'completed' : 'pending';
                const icon = item.completed ? '' : (item.date ? '' : '');
                const dateText = item.date ? new Date(item.date).toLocaleDateString() : 'Pending';
                
                return `
                    <div class="timeline-item ${statusClass}">
                        <div class="timeline-icon">${icon}</div>
                        <div class="timeline-content">
                            <h4>${item.step}</h4>
                            <p>${dateText}</p>
                            <small>${item.remarks}</small>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Additional action functions for the claim details modal
        function trackClaimProgress() {
            alert(' Claim Progress Tracker\n\nThis would open a real-time tracking dashboard showing:\n\n Live status updates\n Estimated completion timeline\n Next action items\n Progress percentage\n Milestone notifications');
        }
        
        function downloadClaimReport() {
            console.log(' Generating claim report...');
            
            // Get current claim data - basic info first
            const claimData = {
                claimId: document.getElementById('detailClaimId')?.textContent || 'CLM-2024-001',
                policyNumber: document.getElementById('detailPolicyNumber')?.textContent || 'HLT/2024/002',
                claimType: document.getElementById('detailClaimType')?.textContent || 'Hospitalization',
                status: document.getElementById('detailClaimStatus')?.textContent || 'Under Review',
                amount: document.getElementById('detailClaimAmount')?.textContent || '45,000',
                submissionDate: document.getElementById('detailSubmissionDate')?.textContent || 'July 15, 2024'
            };
            
            // Determine insurance type from claim ID or policy number
            let insuranceType = 'health'; // default
            
            if (claimData.claimId) {
                if (claimData.claimId.includes('TRV') || claimData.policyNumber?.includes('TRV')) {
                    insuranceType = 'travel';
                } else if (claimData.claimId.includes('MTR') || claimData.policyNumber?.includes('MTR')) {
                    insuranceType = 'motor';
                } else if (claimData.claimId.includes('HOM') || claimData.policyNumber?.includes('HOM')) {
                    insuranceType = 'home';
                } else if (claimData.claimId.includes('HLT') || claimData.policyNumber?.includes('HLT')) {
                    insuranceType = 'health';
                }
            }
            
            // Get type-specific details based on insurance type
            if (insuranceType === 'health') {
                claimData.hospitalName = document.getElementById('detailHospitalName')?.textContent || 'Apollo Hospital';
                claimData.doctorName = document.getElementById('detailDoctorName')?.textContent || 'Dr. Rajesh Kumar';
                claimData.treatmentDesc = document.getElementById('detailTreatmentDesc')?.textContent || 'Emergency surgery for appendicitis';
                claimData.admissionDate = document.getElementById('detailAdmissionDate')?.textContent || 'July 12, 2024';
                claimData.dischargeDate = document.getElementById('detailDischargeDate')?.textContent || 'July 14, 2024';
            } else if (insuranceType === 'travel') {
                claimData.travelDestination = document.getElementById('detailTravelDestination')?.textContent || 'Paris, France';
                claimData.travelDates = document.getElementById('detailTravelDates')?.textContent || 'June 15 - June 30, 2024';
                claimData.incidentType = document.getElementById('detailIncidentType')?.textContent || 'Flight Cancellation';
                claimData.incidentDate = document.getElementById('detailIncidentDate')?.textContent || 'June 16, 2024';
                claimData.incidentDesc = document.getElementById('detailIncidentDesc')?.textContent || 'Flight was cancelled due to weather conditions';
            } else if (insuranceType === 'motor') {
                claimData.vehicleDetails = document.getElementById('detailVehicleDetails')?.textContent || 'Honda City (MH01AB1234)';
                claimData.incidentLocation = document.getElementById('detailIncidentLocation')?.textContent || 'Mumbai-Pune Highway';
                claimData.incidentType = document.getElementById('detailIncidentType')?.textContent || 'Collision';
                claimData.incidentDate = document.getElementById('detailIncidentDate')?.textContent || 'July 10, 2024';
                claimData.incidentDesc = document.getElementById('detailIncidentDesc')?.textContent || 'Collision with another vehicle';
                claimData.policeReport = document.getElementById('detailPoliceReport')?.textContent || 'FIR No: 12345/2024';
            } else if (insuranceType === 'home') {
                claimData.propertyAddress = document.getElementById('detailPropertyAddress')?.textContent || '123 Main Street, Mumbai';
                claimData.incidentType = document.getElementById('detailIncidentType')?.textContent || 'Water Damage';
                claimData.incidentDate = document.getElementById('detailIncidentDate')?.textContent || 'July 8, 2024';
                claimData.incidentDesc = document.getElementById('detailIncidentDesc')?.textContent || 'Pipe burst causing water damage';
                claimData.damageAssessment = document.getElementById('detailDamageAssessment')?.textContent || 'Extensive water damage to flooring and furniture';
            }
            
            // Add insurance type to claim data
            claimData.insuranceType = insuranceType;
            
            // Get customer data
            const customerData = {
                name: currentCustomer?.firstName + ' ' + currentCustomer?.lastName || 'Rajesh Kumar',
                email: currentCustomer?.email || 'rajesh.kumar@email.com',
                phone: currentCustomer?.phone || '+91-9876543210',
                policyNumber: currentPolicy?.policyNumber || 'HLT/2024/002'
            };
            
            // Generate HTML report
            const reportHTML = generateClaimReportHTML(claimData, customerData);
            
            // Create and open new window with the report
            const reportWindow = window.open('', '_blank', 'width=800,height=1000,scrollbars=yes,resizable=yes');
            
            if (reportWindow) {
                reportWindow.document.write(reportHTML);
                reportWindow.document.close();
                
                // Auto-focus on the new window
                reportWindow.focus();
                
                // Show success message
                setTimeout(() => {
                    alert(' Claim Report Generated!\n\nThe detailed report has been opened in a new window.\n\nYou can:\n Print the report (Ctrl+P)\n Save as PDF (Print  Save as PDF)\n Close when done\n\nReport ID: RPT-' + Date.now());
                }, 500);
                
                console.log(' Claim report generated and opened successfully');
            } else {
                // Fallback if popup was blocked
                alert(' Report Generation\n\nPlease allow popups for this site to view the detailed report.\n\nAlternatively, the report data is:\n\nClaim ID: ' + claimData.claimId + '\nStatus: ' + claimData.status + '\nAmount: ' + claimData.amount);
            }
        }
        
        function generateClaimReportHTML(claimData, customerData) {
            const currentDate = new Date().toLocaleDateString('en-IN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const currentTime = new Date().toLocaleTimeString('en-IN');
            
            // Generate type-specific details section
            let typeSpecificSection = '';
            
            if (claimData.insuranceType === 'health') {
                typeSpecificSection = `
            <div class="section">
                <div class="section-title">
                     Hospital & Treatment Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Hospital Name</div>
                        <div class="info-value">${claimData.hospitalName || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Attending Doctor</div>
                        <div class="info-value">${claimData.doctorName || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Treatment Description</div>
                        <div class="info-value">${claimData.treatmentDesc || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Admission Date</div>
                        <div class="info-value">${claimData.admissionDate || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Discharge Date</div>
                        <div class="info-value">${claimData.dischargeDate || 'N/A'}</div>
                    </div>
                </div>
            </div>`;
            } else if (claimData.insuranceType === 'travel') {
                typeSpecificSection = `
            <div class="section">
                <div class="section-title">
                     Travel & Incident Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Travel Destination</div>
                        <div class="info-value">${claimData.travelDestination || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Travel Dates</div>
                        <div class="info-value">${claimData.travelDates || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Type</div>
                        <div class="info-value">${claimData.incidentType || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Date</div>
                        <div class="info-value">${claimData.incidentDate || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Description</div>
                        <div class="info-value">${claimData.incidentDesc || 'N/A'}</div>
                    </div>
                </div>
            </div>`;
            } else if (claimData.insuranceType === 'motor') {
                typeSpecificSection = `
            <div class="section">
                <div class="section-title">
                     Vehicle & Incident Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Vehicle Details</div>
                        <div class="info-value">${claimData.vehicleDetails || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Location</div>
                        <div class="info-value">${claimData.incidentLocation || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Type</div>
                        <div class="info-value">${claimData.incidentType || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Date</div>
                        <div class="info-value">${claimData.incidentDate || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Description</div>
                        <div class="info-value">${claimData.incidentDesc || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Police Report</div>
                        <div class="info-value">${claimData.policeReport || 'N/A'}</div>
                    </div>
                </div>
            </div>`;
            } else if (claimData.insuranceType === 'home') {
                typeSpecificSection = `
            <div class="section">
                <div class="section-title">
                     Property & Incident Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Property Address</div>
                        <div class="info-value">${claimData.propertyAddress || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Type</div>
                        <div class="info-value">${claimData.incidentType || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Date</div>
                        <div class="info-value">${claimData.incidentDate || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Incident Description</div>
                        <div class="info-value">${claimData.incidentDesc || 'N/A'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Damage Assessment</div>
                        <div class="info-value">${claimData.damageAssessment || 'N/A'}</div>
                    </div>
                </div>
            </div>`;
            } else {
                // Default to health if type is unknown
                typeSpecificSection = `
            <div class="section">
                <div class="section-title">
                     Additional Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Description</div>
                        <div class="info-value">${claimData.treatmentDesc || claimData.incidentDesc || 'N/A'}</div>
                    </div>
                </div>
            </div>`;
            }
            
            return `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claim Report - ${claimData.claimId}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
            padding: 20px;
        }
        
        .report-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .report-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .company-logo {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .report-title {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .report-subtitle {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .report-content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 20px;
        }
        
        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .section-title {
            color: #2c3e50;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .info-label {
            font-weight: bold;
            color: #495057;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-size: 16px;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-under-review {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-approved {
            background: #d4edda;
            color: #155724;
        }
        
        .status-processing {
            background: #cce7ff;
            color: #004085;
        }
        
        .timeline {
            margin-top: 20px;
        }
        
        .timeline-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .timeline-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .timeline-completed {
            background: #6c757d;
            color: white;
        }
        
        .timeline-active {
            background: #ffc107;
            color: #212529;
        }
        
        .timeline-pending {
            background: #6c757d;
            color: white;
        }
        
        .timeline-content h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .timeline-content p {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 3px;
        }
        
        .timeline-content small {
            color: #999;
            font-size: 12px;
        }
        
        .document-list {
            list-style: none;
        }
        
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .document-item:last-child {
            border-bottom: none;
        }
        
        .doc-name {
            font-weight: 500;
        }
        
        .doc-status {
            font-size: 12px;
            font-weight: bold;
        }
        
        .doc-verified {
            color: #007bff;
        }
        
        .doc-pending {
            color: #ffc107;
        }
        
        .report-footer {
            background: #f8f9fa;
            padding: 20px 30px;
            text-align: center;
            border-top: 1px solid #e9ecef;
        }
        
        .footer-info {
            color: #6c757d;
            font-size: 12px;
            margin-bottom: 10px;
        }
        
        .contact-info {
            color: #495057;
            font-size: 14px;
        }
        
        .print-note {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            color: #004085;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .print-note {
                display: none;
            }
            
            .report-container {
                box-shadow: none;
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <div class="report-header">
            <div class="company-logo"> Oriental Insurance Company Ltd.</div>
            <div class="report-title">Insurance Claim Report</div>
            <div class="report-subtitle">Claim ID: ${claimData.claimId} | Generated on ${currentDate} at ${currentTime}</div>
        </div>
        
        <div class="report-content">
            <div class="print-note">
                <strong> Print Instructions:</strong> Use Ctrl+P (Windows) or Cmd+P (Mac) to print this report. 
                Select "Save as PDF" to save a digital copy.
            </div>
            
            <div class="section">
                <div class="section-title">
                     Customer Information
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Customer Name</div>
                        <div class="info-value">${customerData.name}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Email Address</div>
                        <div class="info-value">${customerData.email}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Phone Number</div>
                        <div class="info-value">${customerData.phone}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Policy Number</div>
                        <div class="info-value">${customerData.policyNumber}</div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <div class="section-title">
                     Claim Details
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Claim ID</div>
                        <div class="info-value">${claimData.claimId}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Claim Type</div>
                        <div class="info-value">${claimData.claimType}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Claim Amount</div>
                        <div class="info-value">${claimData.amount}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Current Status</div>
                        <div class="info-value">
                            <span class="status-badge status-under-review">${claimData.status}</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Date Submitted</div>
                        <div class="info-value">${claimData.submissionDate}</div>
                    </div>
                </div>
            </div>
            
            ${typeSpecificSection}
            
            <div class="section">
                <div class="section-title">
                     Claim Processing Timeline
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-completed"></div>
                        <div class="timeline-content">
                            <h4>Claim Reported</h4>
                            <p>July 15, 2024 - 10:30 AM</p>
                            <small>Claim successfully submitted online</small>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-completed"></div>
                        <div class="timeline-content">
                            <h4>Initial Verification</h4>
                            <p>July 15, 2024 - 2:15 PM</p>
                            <small>Policy details and eligibility verified</small>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-completed"></div>
                        <div class="timeline-content">
                            <h4>Surveyor Assignment</h4>
                            <p>July 16, 2024 - 9:00 AM</p>
                            <small>Assigned to: Mr. Amit Sharma (ID: SUR001)</small>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-active"></div>
                        <div class="timeline-content">
                            <h4>Document Collection</h4>
                            <p>In Progress</p>
                            <small>Medical records and bills being reviewed</small>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-pending"></div>
                        <div class="timeline-content">
                            <h4>Hospital Survey</h4>
                            <p>Pending</p>
                            <small>On-site verification scheduled</small>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-icon timeline-pending"></div>
                        <div class="timeline-content">
                            <h4>Final Decision</h4>
                            <p>Pending</p>
                            <small>Approval/rejection decision</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <div class="section-title">
                     Submitted Documents
                </div>
                <ul class="document-list">
                    <li class="document-item">
                        <span class="doc-name"> Hospital Discharge Summary</span>
                        <span class="doc-status doc-verified"> Verified</span>
                    </li>
                    <li class="document-item">
                        <span class="doc-name"> Medical Bills & Receipts</span>
                        <span class="doc-status doc-verified"> Verified</span>
                    </li>
                    <li class="document-item">
                        <span class="doc-name"> Diagnostic Reports</span>
                        <span class="doc-status doc-pending"> Under Review</span>
                    </li>
                    <li class="document-item">
                        <span class="doc-name"> Pre-authorization Form</span>
                        <span class="doc-status doc-verified"> Verified</span>
                    </li>
                </ul>
            </div>
            
            <div class="section">
                <div class="section-title">
                     Claim Summary
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Total Claim Amount</div>
                        <div class="info-value">${claimData.amount}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Processing Time</div>
                        <div class="info-value">4-7 Business Days (Estimated)</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Assigned Surveyor</div>
                        <div class="info-value">Mr. Amit Sharma (+91-9876543300)</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Next Action</div>
                        <div class="info-value">Hospital Survey Pending</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="report-footer">
            <div class="footer-info">
                This report was generated automatically on ${currentDate} at ${currentTime}<br>
                Report ID: RPT-${Date.now()} | Version: 1.0
            </div>
            <div class="contact-info">
                <strong>Oriental Insurance Company Ltd.</strong><br>
                Customer Service: 1800-11-8485 | Email: customercare@orientalinsurance.co.in<br>
                Website: www.orientalinsurance.co.in | Available 24/7
            </div>
        </div>
    </div>
</body>
</html>`;
        }
        
        function contactSurveyor() {
            alert(' Contact Surveyor\n\nSurveyor: Mr. Amit Sharma\nID: SUR001\nPhone: +91-9876543300\nEmail: amit.sharma@orientalinsurance.co.in\n\nBest time to call: 9:00 AM - 6:00 PM (Mon-Fri)\n\nWould you like to:\n Call now\n Schedule a callback\n Send an email');
        }
        
        function scheduleCallback() {
            alert(' Schedule Callback\n\nThis would open a scheduling interface to:\n\n Choose preferred date and time\n Select callback reason\n Provide additional notes\n Confirm contact details\n Set reminder notifications');
        }

        function proceedToClaimForm() {
            // Hide claim status step and show claim form
            document.getElementById('claimStatusStep').style.display = 'none';
            document.getElementById('claimFormStep').style.display = 'block';
            
            // Set the insurance type based on the current policy
            if (currentPolicy && currentPolicy.type) {
                selectedInsuranceType = currentPolicy.type;
                console.log(` Setting insurance type to: ${selectedInsuranceType}`);
            } else {
                console.log(' No policy type found, defaulting to health');
                selectedInsuranceType = 'health';
            }
            
            // Update form title based on selected insurance type
            updateClaimFormForInsuranceType();
            
            // Set today as max date for incident date fields
            const today = new Date().toISOString().split('T')[0];
            const dateFields = [
                'healthIncidentDate', 'motorIncidentDate', 'homeIncidentDate', 
                'travelIncidentDate', 'genericIncidentDate', 'admissionDate', 'dischargeDate'
            ];
            
            dateFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.max = today;
                }
            });
        }

        function updateClaimFormForInsuranceType() {
            // Update form fields and labels based on selected insurance type
            if (!selectedInsuranceType) {
                console.log('No insurance type selected');
                return;
            }
            
            const insuranceNames = {
                'health': ' Health Insurance',
                'motor': ' Motor Insurance', 
                'home': ' Home Insurance',
                'travel': ' Travel Insurance',
                'marine': ' Marine Insurance',
                'fire': ' Fire Insurance'
            };
            
            // Update form title
            const formTitle = document.querySelector('#claimFormTitle');
            if (formTitle) {
                formTitle.textContent = ` ${insuranceNames[selectedInsuranceType]} Claim Form`;
            }

            // Hide all claim forms first
            document.getElementById('healthClaimForm').style.display = 'none';
            document.getElementById('motorClaimForm').style.display = 'none';
            document.getElementById('homeClaimForm').style.display = 'none';
            document.getElementById('travelClaimForm').style.display = 'none';
            document.getElementById('genericClaimForm').style.display = 'none';

            // Show the appropriate form based on insurance type
            switch(selectedInsuranceType.toLowerCase()) {
                case 'health':
                    document.getElementById('healthClaimForm').style.display = 'block';
                    break;
                case 'motor':
                    document.getElementById('motorClaimForm').style.display = 'block';
                    break;
                case 'home':
                    document.getElementById('homeClaimForm').style.display = 'block';
                    break;
                case 'travel':
                    document.getElementById('travelClaimForm').style.display = 'block';
                    break;
                case 'fire':
                case 'marine':
                default:
                    document.getElementById('genericClaimForm').style.display = 'block';
                    break;
            }
            
            console.log(` Updated claim form for ${selectedInsuranceType} insurance`);
        }

        function backToVerification() {
            document.getElementById('claimFormStep').style.display = 'none';
            document.getElementById('customerVerificationStep').style.display = 'block';
        }

        function submitHealthClaim() {
            // Collect form data
            const claimData = {
                policyNumber: currentPolicy.policyNumber,
                claimType: document.getElementById('healthClaimType').value,
                incidentDate: document.getElementById('healthIncidentDate').value,
                estimatedAmount: document.getElementById('healthEstimatedAmount').value,
                description: document.getElementById('healthIncidentDescription').value,
                hospitalName: document.getElementById('hospitalName').value,
                treatmentDetails: {
                    diagnosis: document.getElementById('diagnosis').value,
                    procedure: document.getElementById('procedure').value,
                    doctorName: document.getElementById('doctorName').value,
                    admissionDate: document.getElementById('admissionDate').value,
                    dischargeDate: document.getElementById('dischargeDate').value,
                    roomType: document.getElementById('roomType').value
                }
            };

            submitClaim(claimData, 'health');
        }

        function submitMotorClaim() {
            // Collect motor-specific form data
            const claimData = {
                policyNumber: currentPolicy.policyNumber,
                claimType: document.getElementById('motorClaimType').value,
                incidentDate: document.getElementById('motorIncidentDate').value,
                estimatedAmount: document.getElementById('motorEstimatedAmount').value,
                description: document.getElementById('motorIncidentDescription').value,
                incidentLocation: document.getElementById('incidentLocation').value,
                vehicleDetails: {
                    registrationNumber: document.getElementById('vehicleRegNumber').value,
                    driverName: document.getElementById('driverName').value,
                    licenseNumber: document.getElementById('licenseNumber').value,
                    firNumber: document.getElementById('firNumber').value,
                    garageName: document.getElementById('garageName').value,
                    thirdPartyInvolved: document.getElementById('thirdPartyInvolved').value
                }
            };

            submitClaim(claimData, 'motor');
        }

        function submitHomeClaim() {
            // Collect home-specific form data
            const claimData = {
                policyNumber: currentPolicy.policyNumber,
                claimType: document.getElementById('homeClaimType').value,
                incidentDate: document.getElementById('homeIncidentDate').value,
                estimatedAmount: document.getElementById('homeEstimatedAmount').value,
                description: document.getElementById('homeIncidentDescription').value,
                propertyAddress: document.getElementById('propertyAddress').value
            };

            submitClaim(claimData, 'home');
        }

        function submitTravelClaim() {
            // Collect travel-specific form data
            const claimData = {
                policyNumber: currentPolicy.policyNumber,
                claimType: document.getElementById('travelClaimType').value,
                incidentDate: document.getElementById('travelIncidentDate').value,
                estimatedAmount: document.getElementById('travelEstimatedAmount').value,
                description: document.getElementById('travelIncidentDescription').value,
                travelDestination: document.getElementById('travelDestination').value
            };

            submitClaim(claimData, 'travel');
        }

        function submitGenericClaim() {
            // Collect generic form data
            const claimData = {
                policyNumber: currentPolicy.policyNumber,
                incidentDate: document.getElementById('genericIncidentDate').value,
                estimatedAmount: document.getElementById('genericEstimatedAmount').value,
                description: document.getElementById('genericIncidentDescription').value
            };

            submitClaim(claimData, selectedInsuranceType);
        }

        function submitClaim(claimData, claimType) {
            // Validate required fields based on claim type
            if (!validateClaimData(claimData, claimType)) {
                alert(' Please fill all required fields');
                return;
            }

            // Show loading state
            const submitBtn = document.querySelector(`#${claimType}ClaimForm .submit-btn, #genericClaimForm .submit-btn`);
            if (submitBtn) {
                submitBtn.innerHTML = ' Submitting Claim...';
                submitBtn.disabled = true;
            }

            // Submit to backend with selected insurance type
            const endpoint = `http://localhost:5000/api/claims/${claimType}`;
            fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(claimData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    displayClaimConfirmation(data.data);
                } else {
                    throw new Error(data.message || 'Claim submission failed');
                }
            })
            .catch(error => {
                // Fallback for demo
                const mockClaimData = {
                    claim: {
                        id: `CLM${String(Math.floor(Math.random() * 1000)).padStart(3, '0')}`,
                        status: 'Under Review',
                        estimatedAmount: claimData.estimatedAmount,
                        claimType: claimData.claimType || 'General',
                        submissionDate: new Date().toISOString().split('T')[0]
                    },
                    assignedSurveyor: getSurveyorByType(claimType)
                };
                displayClaimConfirmation(mockClaimData);
            });
        }

        function validateClaimData(claimData, claimType) {
            // Common required fields
            const commonRequiredFields = ['incidentDate', 'estimatedAmount', 'description'];
            
            // Type-specific required fields
            const typeSpecificFields = {
                'health': ['claimType', 'hospitalName'],
                'motor': ['claimType', 'incidentLocation'],
                'home': ['claimType', 'propertyAddress'],
                'travel': ['claimType', 'travelDestination']
            };

            const allRequiredFields = [...commonRequiredFields, ...(typeSpecificFields[claimType] || [])];
            
            return allRequiredFields.every(field => {
                const value = claimData[field];
                return value && value.trim() !== '';
            });
        }

        function getSurveyorByType(claimType) {
            const surveyors = {
                'health': {
                    name: 'Dr. Amit Sharma',
                    phone: '+91-9876543300',
                    specialization: 'Health Claims',
                    email: 'amit.sharma@orientalinsurance.com'
                },
                'motor': {
                    name: 'Mr. Rajesh Kumar',
                    phone: '+91-9876543301',
                    specialization: 'Motor Claims & Vehicle Assessment',
                    email: 'rajesh.kumar@orientalinsurance.com'
                },
                'home': {
                    name: 'Ms. Priya Singh',
                    phone: '+91-9876543302',
                    specialization: 'Property & Home Claims',
                    email: 'priya.singh@orientalinsurance.com'
                },
                'travel': {
                    name: 'Mr. Vikram Mehta',
                    phone: '+91-9876543303',
                    specialization: 'Travel & International Claims',
                    email: 'vikram.mehta@orientalinsurance.com'
                }
            };

            return surveyors[claimType] || {
                name: 'Mr. Suresh Gupta',
                phone: '+91-9876543399',
                specialization: 'General Claims',
                email: 'suresh.gupta@orientalinsurance.com'
            };
        }

        function showSuccessPopup(message) {
            // Create popup element
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                color: #333;
                padding: 30px;
                border-radius: 15px;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 400px;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                animation: popupShow 0.3s ease-out;
            `;
            
            popup.innerHTML = `
                <div style="font-size: 24px; margin-bottom: 15px;"></div>
                <div style="font-size: 18px; font-weight: bold; margin-bottom: 15px; white-space: pre-line;">${message}</div>
                <button onclick="this.parentElement.remove()" style="
                    background: rgba(255,255,255,0.2);
                    border: 2px solid white;
                    color: white;
                    padding: 10px 20px;
                    border-radius: 25px;
                    cursor: pointer;
                    font-weight: bold;
                    margin-top: 10px;
                ">Close</button>
            `;
            
            // Add animation keyframes if not already added
            if (!document.querySelector('#popup-styles')) {
                const style = document.createElement('style');
                style.id = 'popup-styles';
                style.textContent = `
                    @keyframes popupShow {
                        from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                        to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(popup);
            
            // Auto-remove after 10 seconds
            setTimeout(() => {
                if (popup.parentElement) popup.remove();
            }, 10000);
        }

        function displayClaimConfirmation(data) {
            const { claim, assignedSurveyor } = data;
            
            // Close the claims modal first
            closeDetailModal('claims');
            
            // Show comprehensive claim success popup
            setTimeout(() => {
                showClaimSuccessPopup(claim, assignedSurveyor);
            }, 500);
            
            // Also update the internal state for later viewing
            setTimeout(() => {
                // Hide claim form and show confirmation
                document.getElementById('claimFormStep').style.display = 'none';
                document.getElementById('claimStatusStep').style.display = 'block';
                
                // Populate claim details
                document.getElementById('claimId').textContent = claim.id;
                document.getElementById('claimStatus').textContent = claim.status;
                document.getElementById('assignedSurveyor').textContent = assignedSurveyor.name;
                document.getElementById('surveyorPhone').textContent = assignedSurveyor.phone;
                document.getElementById('displayEstimatedAmount').textContent = claim.estimatedAmount;
                
                // Generate timeline
                generateClaimTimeline(claim);
            }, 1000);
        }
        
        function showClaimSuccessPopup(claimData, surveyorData) {
            // Create popup element
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 15000;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease-out;
            `;
            
            popup.innerHTML = `
                <div style="
                    background: white;
                    color: #333;
                    padding: 40px;
                    border-radius: 20px;
                    text-align: center;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    animation: slideIn 0.4s ease-out;
                    margin: 20px;
                    border: 2px solid #e9ecef;
                ">
                    <div style="font-size: 60px; margin-bottom: 20px;"></div>
                    <h2 style="margin: 0 0 20px 0; font-size: 28px;">Claim Submitted Successfully!</h2>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 25px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 20px;"> Claim Details</h3>
                        <div style="display: grid; gap: 10px; font-size: 16px;">
                            <div><strong>Claim ID:</strong> <span style="color: #007bff; font-weight: bold; font-size: 18px;">${claimData.id}</span></div>
                            <div><strong>Policy Number:</strong> ${currentPolicy?.policyNumber || 'N/A'}</div>
                            <div><strong>Customer Name:</strong> ${currentCustomer?.firstName} ${currentCustomer?.lastName}</div>
                            <div><strong>Claim Type:</strong> ${claimData.claimType || selectedInsuranceType?.toUpperCase()} Insurance</div>
                            <div><strong>Estimated Amount:</strong> ${parseInt(claimData.estimatedAmount || 0).toLocaleString()}</div>
                            <div><strong>Submission Date:</strong> ${claimData.submissionDate || new Date().toLocaleDateString()}</div>
                            <div><strong>Status:</strong> <span style="color: #007bff; font-weight: bold;">${claimData.status?.toUpperCase()}</span></div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 18px;"> Assigned Surveyor</h3>
                        <div style="text-align: center; font-size: 16px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">${surveyorData.name}</div>
                            <div style="margin-bottom: 8px;"><strong> Phone:</strong> ${surveyorData.phone}</div>
                            <div style="margin-bottom: 8px;"><strong> Email:</strong> ${surveyorData.email}</div>
                            <div style="margin-bottom: 8px;"><strong> Specialization:</strong> ${surveyorData.specialization}</div>
                            <div style="color: #007bff; font-weight: bold; margin-top: 10px;"> Surveyor will contact you within 24-48 hours</div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <h3 style="margin: 0 0 15px 0; text-align: center; font-size: 18px;"> Next Steps</h3>
                        <ul style="margin: 0; padding-left: 20px; text-align: left;">
                            <li style="margin: 8px 0;">Keep all relevant documents ready (bills, reports, photos)</li>
                            <li style="margin: 8px 0;">Surveyor will contact you to schedule assessment</li>
                            <li style="margin: 8px 0;">Provide complete information during survey</li>
                            <li style="margin: 8px 0;">Track claim status using your Claim ID</li>
                            <li style="margin: 8px 0;">Expect initial assessment within 3-5 business days</li>
                        </ul>
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #e9ecef; padding: 15px; border-radius: 15px; margin: 20px 0;">
                        <div style="font-size: 14px; opacity: 0.9;">
                            <strong> Customer Support:</strong> 1800-XXX-XXXX<br>
                            <strong> Email:</strong> claims@orientalinsurance.com<br>
                            <strong> Working Hours:</strong> Mon-Fri 9:00 AM - 6:00 PM
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button onclick="this.closest('div').parentElement.remove()" style="
                            background: #6c757d;
                            border: 2px solid #6c757d;
                            color: white;
                            padding: 12px 30px;
                            border-radius: 30px;
                            cursor: pointer;
                            font-weight: bold;
                            font-size: 16px;
                            margin: 0 10px;
                            transition: all 0.3s ease;
                        " onmouseover="this.style.background='#5a6268'" onmouseout="this.style.background='#6c757d'">Close</button>
                        
                        <button onclick="window.open('tel:${surveyorData.phone}', '_self')" style="
                            background: #007bff;
                            border: 2px solid #007bff;
                            color: white;
                            padding: 12px 30px;
                            border-radius: 30px;
                            cursor: pointer;
                            font-weight: bold;
                            font-size: 16px;
                            margin: 0 10px;
                            transition: all 0.3s ease;
                        " onmouseover="this.style.background='#0056b3'" onmouseout="this.style.background='#007bff'"> Call Surveyor</button>
                    </div>
                </div>
            `;
            
            // Add animation keyframes if not already added
            if (!document.querySelector('#claim-popup-styles')) {
                const style = document.createElement('style');
                style.id = 'claim-popup-styles';
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes slideIn {
                        from { opacity: 0; transform: scale(0.8) translateY(-50px); }
                        to { opacity: 1; transform: scale(1) translateY(0); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(popup);
            
            // Auto-remove after 30 seconds
            setTimeout(() => {
                if (popup.parentElement) popup.remove();
            }, 30000);
        }

        function generateClaimTimeline(claim) {
            const timeline = document.getElementById('claimTimeline');
            const steps = [
                { name: 'Claim Reported', completed: true, date: new Date().toISOString().split('T')[0] },
                { name: 'Customer Verification', completed: true, date: new Date().toISOString().split('T')[0] },
                { name: 'Surveyor Assignment', completed: true, date: new Date().toISOString().split('T')[0] },
                { name: 'Documents Collection', completed: false, active: true },
                { name: 'Hospital Survey', completed: false },
                { name: 'Survey Report', completed: false },
                { name: 'Medical Review', completed: false },
                { name: 'Approval Decision', completed: false },
                { name: 'Payment Processing', completed: false }
            ];

            timeline.innerHTML = steps.map(step => {
                const statusClass = step.completed ? 'completed' : step.active ? 'active' : '';
                const statusIcon = step.completed ? '' : step.active ? '' : '';
                
                return `
                    <div class="timeline-step ${statusClass}">
                        <strong>${statusIcon} ${step.name}</strong>
                        ${step.date ? `<div style="font-size: 12px; color: #666;">Date: ${step.date}</div>` : ''}
                        ${step.active ? '<div style="font-size: 12px; color: #FF9800;">In Progress</div>' : ''}
                    </div>
                `;
            }).join('');
        }

        function trackClaim() {
            alert(' Claim Tracking Feature\n\nRedirecting to claim tracking portal...\n\nYou can track your claim status in real-time.');
        }

        function startNewClaim() {
            // Reset form and go back to verification
            document.getElementById('claimStatusStep').style.display = 'none';
            document.getElementById('customerVerificationStep').style.display = 'block';
            
            // Reset form
            document.getElementById('policyNumberInput').value = '';
            document.getElementById('customerDetails').style.display = 'none';
            const verifyBtn = document.querySelector('.verify-btn');
            verifyBtn.innerHTML = ' Verify Customer';
            verifyBtn.disabled = false;
            verifyBtn.style.background = '';
            
            currentCustomer = null;
            currentPolicy = null;
        }

        // Legacy function for backward compatibility
        function submitClaimForm() {
            alert(' Please use the enhanced health claim system above for better service!');
        }
        
        function submitSupportForm() {
            const form = event.target.closest('.registration-form');
            const formData = new FormData();
            
            // Collect form data
            const inputs = form.querySelectorAll('input, select, textarea');
            let isValid = true;
            
            inputs.forEach(input => {
                if (input.required && !input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#ff6b6b';
                } else {
                    input.style.borderColor = '#dee2e6';
                    formData.append(input.name || input.placeholder, input.value);
                }
            });
            
            if (isValid) {
                // Simulate API call
                fetch('http://localhost:5000/api/grievances/submit', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    alert(' Grievance submitted successfully!\n\nTicket Number: GRV' + Date.now() + '\n\nStatus: Assigned to Customer Care\n\nExpected Resolution: 3-5 business days');
                    closeDetailModal('support');
                })
                .catch(error => {
                    alert(' Grievance submitted successfully!\n\nTicket Number: GRV' + Date.now() + '\n\nNote: Backend service will process your request.');
                    closeDetailModal('support');
                });
            } else {
                alert(' Please fill all required fields.');
            }
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.detail-modal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    
                    // Show chat bubble again when modal is closed
                    if (chatBubble) {
                        chatBubble.style.display = 'flex';
                    }
                }
            });
        }

        function openSection(section) {
            const messages = {
                'policies': ' Opening Policies Section...\n\n Services Available:\n View active policies\n Download policy documents\n Premium payment\n Policy renewal\n Coverage details\n\n API Endpoint: http://localhost:5000/api/policies',
                'claims': ' Opening Claim Registration...\n\n Services Available:\n Submit new claims\n Track existing claims\n Upload documents\n Claim status updates\n Settlement details\n\n API Endpoint: http://localhost:5000/api/claims',
                'support': ' Connecting to Customer Support...\n\n Services Available:\n Live chat assistance\n File grievances\n FAQ and help articles\n Schedule callback\n Expert consultation\n\n API Endpoint: http://localhost:5000/api/support'
            };
            
            alert(messages[section]);
            
            // Test backend API connection
            fetch(`http://localhost:5000/api/${section}`)
                .then(response => {
                    console.log(` ${section.toUpperCase()} API Status:`, response.status);
                    if (response.ok) {
                        console.log(` Successfully connected to ${section} service`);
                    }
                })
                .catch(error => {
                    console.log(` ${section} API connection:`, error.message);
                });
        }
        
        // Enhanced Assistant Functionality
        function interactWithAssistant() {
            console.log('   ASSISTANT CALLED - This should ONLY happen when chat bubble is clicked!');
            console.trace('Call stack for assistant trigger:');
            
            // Check if this is being called from the door or other unwanted sources
            const chatBubble = document.querySelector('.chat-bubble');
            if (!chatBubble || chatBubble.style.display === 'none') {
                console.log(' Chat bubble is hidden - ignoring assistant call');
                return;
            }
            
            try {
                const chatModal = document.getElementById('chatModal');
                if (chatModal) {
                    chatModal.style.display = 'flex';
                    console.log(' Chat modal opened');
                } else {
                    console.log(' Chat modal not found - opening Policy FAQ instead');
                    openPolicyFAQ();
                }
            } catch (error) {
                console.error(' Error opening chat:', error);
                console.log(' Fallback: Opening Policy FAQ');
                openPolicyFAQ();
            }
        }
        
        function openPolicyFAQ() {
            const modal = document.createElement('div');
            modal.className = 'policy-faq-modal';
            modal.innerHTML = `
                <div class="policy-faq-container">
                    <div class="policy-faq-inner">
                        <button class="policy-faq-close" onclick="closePolicyFAQ()">&times;</button>
                        <div class="policy-faq-header">
                            <h3>Policy Related Questions</h3>
                            <p>Choose a question to get instant answers</p>
                        </div>
                        <div class="policy-questions-grid">
                        <div class="policy-question" onclick="answerPolicyQuestion('What types of insurance policies do you offer?', 0)">
                            <span class="question-number">1</span>
                            <span>What types of insurance policies do you offer?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I buy a new policy?', 1)">
                            <span class="question-number">2</span>
                            <span>How do I buy a new policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What documents are required for policy purchase?', 2)">
                            <span class="question-number">3</span>
                            <span>What documents are required for policy purchase?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How can I renew my existing policy?', 3)">
                            <span class="question-number">4</span>
                            <span>How can I renew my existing policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What is the premium calculation method?', 4)">
                            <span class="question-number">5</span>
                            <span>What is the premium calculation method?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I check my policy status?', 5)">
                            <span class="question-number">6</span>
                            <span>How do I check my policy status?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What is covered under my policy?', 6)">
                            <span class="question-number">7</span>
                            <span>What is covered under my policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I download my policy documents?', 7)">
                            <span class="question-number">8</span>
                            <span>How do I download my policy documents?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What are the payment options available?', 8)">
                            <span class="question-number">9</span>
                            <span>What are the payment options available?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I cancel my policy?', 9)">
                            <span class="question-number">10</span>
                            <span>How do I cancel my policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What is the claim process?', 10)">
                            <span class="question-number">11</span>
                            <span>What is the claim process?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How long does claim settlement take?', 11)">
                            <span class="question-number">12</span>
                            <span>How long does claim settlement take?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What is No Claim Bonus?', 12)">
                            <span class="question-number">13</span>
                            <span>What is No Claim Bonus?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I update my policy details?', 13)">
                            <span class="question-number">14</span>
                            <span>How do I update my policy details?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What are the exclusions in my policy?', 14)">
                            <span class="question-number">15</span>
                            <span>What are the exclusions in my policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I transfer my policy ownership?', 15)">
                            <span class="question-number">16</span>
                            <span>How do I transfer my policy ownership?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What is the grace period for premium payment?', 16)">
                            <span class="question-number">17</span>
                            <span>What is the grace period for premium payment?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I add nominees to my policy?', 17)">
                            <span class="question-number">18</span>
                            <span>How do I add nominees to my policy?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('What happens if I miss premium payment?', 18)">
                            <span class="question-number">19</span>
                            <span>What happens if I miss premium payment?</span>
                            <span class="question-arrow"></span>
                        </div>
                        <div class="policy-question" onclick="answerPolicyQuestion('How do I contact customer support?', 19)">
                            <span class="question-number">20</span>
                            <span>How do I contact customer support?</span>
                            <span class="question-arrow"></span>
                        </div>
                        </div>
                    </div>
                </div>
            `;            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                backdrop-filter: blur(8px);
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease;
            `;
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            // Add styles for the modal components
            const style = document.createElement('style');
            style.textContent = `
                .policy-faq-container {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    border-radius: 25px;
                    padding: 3px;
                    width: 90%;
                    max-width: 650px;
                    max-height: 90vh;
                    overflow: visible;
                    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
                    position: relative;
                    animation: assistantFadeIn 0.3s ease;
                }
                
                .policy-faq-inner {
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(20px);
                    border-radius: 22px;
                    padding: 35px;
                    max-height: 87vh;
                    overflow-y: auto;
                    position: relative;
                }
                
                .policy-faq-inner::-webkit-scrollbar {
                    width: 8px;
                }
                
                .policy-faq-inner::-webkit-scrollbar-track {
                    background: rgba(102, 126, 234, 0.1);
                    border-radius: 10px;
                }
                
                .policy-faq-inner::-webkit-scrollbar-thumb {
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    border-radius: 10px;
                }
                
                .policy-faq-inner::-webkit-scrollbar-thumb:hover {
                    background: linear-gradient(135deg, #5a6fd8, #6a4190);
                }
                
                .policy-faq-inner::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 100px;
                    background: linear-gradient(180deg, rgba(102, 126, 234, 0.1) 0%, transparent 100%);
                    border-radius: 22px 22px 0 0;
                    pointer-events: none;
                }
                
                .policy-faq-close {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
                    border: none;
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    font-size: 20px;
                    color: white;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
                    z-index: 10;
                }
                
                .policy-faq-close:hover {
                    background: linear-gradient(135deg, #ff5252, #d32f2f);
                    transform: scale(1.1) rotate(90deg);
                    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5);
                }
                
                .policy-faq-header {
                    text-align: center;
                    margin-bottom: 25px;
                    padding-top: 10px;
                }
                
                .policy-faq-header h3 {
                    font-size: 28px;
                    font-weight: 800;
                    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    margin-bottom: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 12px;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                }
                
                .policy-faq-header h3::before {
                    content: "";
                    font-size: 28px;
                }
                
                .policy-faq-header p {
                    font-size: 14px;
                    color: #6c757d;
                    line-height: 1.5;
                    margin: 0;
                }
                
                .policy-questions-grid {
                    display: flex;
                    flex-direction: column;
                    gap: 16px;
                }
                
                .policy-question {
                    background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
                    border: 2px solid transparent;
                    border-radius: 16px;
                    padding: 20px;
                    cursor: pointer;
                    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                    font-size: 15px;
                    line-height: 1.5;
                    color: #2c3e50;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.08);
                }
                
                .policy-question::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    border-radius: 16px;
                }
                
                .policy-question:hover::before {
                    opacity: 1;
                }
                
                .policy-question:hover {
                    border-color: #667eea;
                    transform: translateY(-4px) scale(1.02);
                    box-shadow: 0 12px 35px rgba(102, 126, 234, 0.2);
                }
                
                .question-number {
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    color: white;
                    border-radius: 50%;
                    width: 32px;
                    height: 32px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 12px;
                    font-weight: bold;
                    flex-shrink: 0;
                    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
                    position: relative;
                    z-index: 2;
                }
                
                .question-arrow {
                    margin-left: auto;
                    color: #667eea;
                    font-size: 18px;
                    font-weight: bold;
                    transition: all 0.3s ease;
                    flex-shrink: 0;
                    position: relative;
                    z-index: 2;
                }
                
                .policy-question:hover .question-arrow {
                    transform: translateX(3px);
                }
                
                @keyframes slideInCenter {
                    from {
                        opacity: 0;
                        transform: translate(-50%, -50%) scale(0.9);
                    }
                    to {
                        opacity: 1;
                        transform: translate(-50%, -50%) scale(1);
                    }
                }
                
                @keyframes assistantFadeIn {
                    from {
                        opacity: 0;
                        transform: scale(0.9);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }
            `;
            document.head.appendChild(style);
        }
        
        function closePolicyFAQ() {
            const modal = document.querySelector('.policy-faq-modal');
            if (modal) {
                modal.remove();
                document.body.style.overflow = 'auto';
            }
        }
        
        function answerPolicyQuestion(question, index) {
            const answers = [
                " We offer comprehensive insurance coverage including Motor Insurance (Two-wheeler & Four-wheeler), Health Insurance (Individual & Family), Travel Insurance (Domestic & International), Home Insurance (Contents & Structure), Commercial Vehicle Insurance, Marine Insurance, and Fire Insurance. Each policy is designed to provide maximum protection with competitive premiums.",
                
                " To buy a new policy: 1) Visit our website or branch 2) Choose your insurance type 3) Fill the proposal form with accurate details 4) Submit required documents 5) Pay premium online or offline 6) Receive policy documents via email/post. Our agents are available to guide you through the entire process.",
                
                " Required documents vary by policy type. Common documents include: Identity Proof (Aadhaar/PAN), Address Proof, Age Proof, Income Proof (for high sum assured), Vehicle Registration Certificate (for motor), Medical Reports (for health), Property Papers (for home insurance). Specific requirements will be shared during application.",
                
                " Policy renewal is simple: 1) Receive renewal notice 30 days before expiry 2) Review your coverage needs 3) Pay renewal premium online/offline 4) Download renewed policy instantly. Set up auto-debit for hassle-free renewals. Renew before expiry to avoid policy lapse and maintain continuous coverage.",
                
                " Premium calculation depends on multiple factors: Age, Sum Assured, Policy Type, Risk Profile, Location, Previous Claims History, Add-ons selected, and Discount eligibility. Our online calculator provides instant quotes. Factors like safety features, good driving record, and no-claim bonus can reduce your premium significantly.",
                
                " Check policy status easily: 1) Login to our customer portal with policy number 2) Use our mobile app 3) Call customer care 4) Visit nearest branch. View policy details, premium due dates, coverage information, claim status, and download documents anytime. SMS alerts keep you updated on important policy information.",
                
                " Coverage varies by policy type. Motor Insurance covers Third-party liability, Own Damage, Theft, Natural Calamities, and Personal Accident. Health Insurance covers Hospitalization, Daycare procedures, Pre/Post hospitalization, Ambulance charges. Each policy document contains detailed coverage terms and exclusions.",
                
                " Download documents instantly: 1) Login to customer portal 2) Select 'Download Documents' 3) Choose policy certificate, receipts, or endorsements 4) Download PDF files. Documents are also available on our mobile app. Original hard copies can be requested if needed for official purposes.",
                
                " Multiple payment options available: Online (Credit/Debit Cards, Net Banking, UPI, Digital Wallets), Offline (Cash at branches, Cheque, Demand Draft), Auto-debit from bank account, Mobile payment apps. All transactions are secure with SSL encryption. Choose convenient payment modes during purchase or renewal.",
                
                " Policy cancellation process: 1) Submit written cancellation request 2) Provide policy documents 3) Pay applicable charges if any 4) Refund processed as per terms. Free-look period (15-30 days) allows full refund. Mid-term cancellation may have charges. Consult our team for cancellation implications before proceeding.",
                
                " Claim process: 1) Report incident immediately 2) File FIR (if required) 3) Submit claim form with documents 4) Our surveyor will assess damage 5) Claim approved and processed 6) Amount credited to your account. Keep all original receipts and documents. Cashless facility available at network hospitals for health claims.",
                
                " Claim settlement time varies by policy type: Motor claims: 7-15 days, Health claims: 15-30 days, Fire/Marine claims: 30-45 days. Simple claims are processed faster. Cashless health claims are approved within 2-4 hours. Complex cases may require additional investigation time.",
                
                " No Claim Bonus (NCB) is a reward for claim-free years. Motor insurance NCB: 20% (1st year) to 50% (5th year onwards). Health insurance: Cumulative bonus increases sum assured. NCB is personal to the insured and can be transferred when buying new policy from any insurer.",
                
                " Update policy details: 1) Login to customer portal 2) Select 'Update Policy' 3) Change address, contact, nominee details 4) Upload supporting documents 5) Submit for verification. Some changes may require endorsement fees. Address change affects premium calculation for certain policies.",
                
                " Policy exclusions vary by type. Common exclusions: Pre-existing diseases (health), War/nuclear risks, Intentional damage, Driving under influence (motor), Natural wear-tear. Read policy document carefully. Exclusions are clearly mentioned in the policy schedule and wordings.",
                
                " Policy ownership transfer: 1) Submit transfer request form 2) Provide legal documents (sale deed, legal heir certificate) 3) New owner's documents 4) Pay transfer fees 5) New policy issued. Transfer is allowed for vehicles, properties, and in case of inheritance.",
                
                " Grace period for premium payment: Motor insurance: No grace period, policy lapses immediately. Health insurance: 30 days grace period. Life insurance: 30 days (monthly), 30 days (quarterly), 30 days (half-yearly), 30 days (yearly). Pay within grace period to avoid policy lapse.",
                
                " Add nominees: 1) Fill nomination form 2) Provide nominee's details and relationship proof 3) Submit to branch or online portal 4) Receive acknowledgment. Multiple nominees allowed with percentage share. Nominee can be changed anytime. Minor nominees require appointed guardian details.",
                
                " Missing premium payment consequences: Policy lapses, No claim settlement, Loss of benefits, Re-medical required for revival (health), Higher premium on renewal. Revive lapsed policy within specified time by paying outstanding premium with interest. Some policies have automatic revival clauses.",
                
                " Customer support: 24/7 helpline: 1800-XXX-XXXX, Email: support@orientalinsurance.co.in, Live chat on website/app, Visit nearest branch, WhatsApp support. Multi-language support available. Senior citizen helpline and dedicated claim helpline numbers for faster assistance."
            ];
            
            // Close the modal
            closePolicyFAQ();
            
            // Show answer in chat bubble
            setTimeout(() => {
                showPolicyAnswer(question, answers[index]);
            }, 300);
        }
        
        function showPolicyAnswer(question, answer) {
            const chatText = document.getElementById('chatText');
            const typingIndicator = document.getElementById('typingIndicator');
            const chatBubble = document.querySelector('.chat-bubble');
            const chatIcon = document.querySelector('.chat-icon');
            
            // First show the question being processed
            chatText.textContent = `Question: "${question}"`;
            chatIcon.textContent = "";
            
            // Show typing indicator after 1 second
            setTimeout(() => {
                chatText.style.display = 'none';
                typingIndicator.classList.add('show');
                chatBubble.classList.add('typing');
                chatIcon.textContent = "";
                
                // Show answer after typing delay
                setTimeout(() => {
                    typingIndicator.classList.remove('show');
                    chatText.style.display = 'inline';
                    chatBubble.classList.remove('typing');
                    
                    chatText.textContent = answer;
                    chatIcon.textContent = "";
                    
                    // Add pulse animation
                    chatBubble.style.animation = 'chatPulse 0.6s ease-out';
                    setTimeout(() => {
                        chatBubble.style.animation = 'chatFloat 3s ease-in-out infinite';
                    }, 600);
                    
                    // Reset to default after 10 seconds
                    setTimeout(() => {
                        chatText.textContent = "Hello! How can I assist you today?";
                        chatIcon.textContent = "";
                    }, 10000);
                    
                }, 2000 + Math.random() * 1000); // 2-3 second typing delay
            }, 1000);
        }
        
        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.detail-modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Close policy FAQ modal when clicking outside
            const policyModal = document.querySelector('.policy-faq-modal');
            if (policyModal && event.target === policyModal) {
                closePolicyFAQ();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = document.querySelectorAll('.detail-modal');
                modals.forEach(modal => {
                    if (modal.style.display === 'flex') {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
                
                // Close policy FAQ modal with Escape key
                const policyModal = document.querySelector('.policy-faq-modal');
                if (policyModal) {
                    closePolicyFAQ();
                }
            }
        });
        
        // Add pulse animation keyframe
        const style = document.createElement('style');
        style.textContent = `
            @keyframes chatPulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
            }
        `;
        document.head.appendChild(style);
        
        function showInfo() {
            alert(' Oriental Insurance Virtual Office\n\n Welcome to our digital branch!\n 24/7 Customer Service\n Online Services Available\n Professional Insurance Solutions');
        }
        
        function showMenu() {
            const options = [
                ' All Services',
                ' Account Login', 
                ' Contact Us',
                ' Branch Locator',
                ' Mobile App'
            ].join('\n');
            
            alert(' More Options\n\n' + options);
        }
        
        // REMOVED: Conflicting initialization - handled by MASTER INIT above

        // Door Functionality
        function initializeDoor() {
            console.log(' Looking for door element...');
            const door = document.querySelector('.office-door');
            
            if (door) {
                console.log(' Door element found!');
                
                // Make absolutely sure the door is clickable
                door.style.cursor = 'pointer';
                door.style.pointerEvents = 'auto';
                door.style.zIndex = '999';
                
                // Remove any existing click handlers first
                door.replaceWith(door.cloneNode(true));
                const newDoor = document.querySelector('.office-door');
                
                newDoor.addEventListener('click', function(event) {
                    console.log(' Door clicked!');
                    event.preventDefault();
                    event.stopPropagation();
                    event.stopImmediatePropagation();
                    
                    // Hide chat bubble immediately when door is clicked
                    const chatBubble = document.querySelector('.chat-bubble');
                    if (chatBubble) {
                        chatBubble.style.display = 'none';
                        console.log(' Chat bubble hidden on door click');
                    }
                    
                    // Create particle effect
                    createDoorParticles(newDoor);
                    
                    // Add opening animation
                    newDoor.classList.add('opening');
                    
                    // Add screen shake effect
                    document.body.style.animation = 'doorShake 0.3s ease-out';
                    
                    console.log(' Door opening - showing authentication...');
                    
                    // Show authentication modal after brief delay
                    setTimeout(() => {
                        newDoor.classList.remove('opening');
                        document.body.style.animation = '';
                        openAuthModal();
                    }, 400);
                    
                    return false;
                });
                
                // Enhanced hover effects
                newDoor.addEventListener('mouseenter', function() {
                    console.log(' Door hover sound');
                    this.style.filter = 'brightness(1.1) saturate(1.1)';
                });
                
                newDoor.addEventListener('mouseleave', function() {
                    this.style.filter = 'brightness(1) saturate(1)';
                });
                
                console.log(' Door event listeners added successfully!');
            } else {
                console.error(' Door element not found!');
            }
        }

        // Create particle effect when door is clicked
        function createDoorParticles(door) {
            const particleContainer = document.createElement('div');
            particleContainer.className = 'door-particles';
            document.body.appendChild(particleContainer);
            
            const doorRect = door.getBoundingClientRect();
            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random position around the door
                const x = doorRect.left + doorRect.width * Math.random();
                const y = doorRect.top + doorRect.height * Math.random();
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.animationDelay = (Math.random() * 0.2) + 's';
                
                // Random color variations
                const colors = ['#ffd700', '#ffcc00', '#ffb300', '#ff9800'];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                particleContainer.appendChild(particle);
            }
            
            // Remove particles after animation
            setTimeout(() => {
                document.body.removeChild(particleContainer);
            }, 1200);
        }

        // Add CSS animation for screen shake
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes doorShake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-2px); }
                75% { transform: translateX(2px); }
            }
        `;
        document.head.appendChild(shakeStyle);

        // Feature Modal Functionality
        function openFeatureModal(featureType) {
            const modal = document.getElementById('featureModal');
            const title = document.getElementById('featureTitle');
            const content = document.getElementById('featureContent');
            
            const featureData = getFeatureData(featureType);
            
            title.textContent = featureData.title;
            content.innerHTML = featureData.content;
            
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeFeatureModal() {
            const modal = document.getElementById('featureModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function getFeatureData(featureType) {
            const features = {
                'customer-service': {
                    title: ' Customer Service Center',
                    content: `
                        <div class="feature-info">
                            <h4>Welcome to Our Customer Service Hub</h4>
                            <p>Our dedicated customer service center is designed to provide you with comprehensive support for all your insurance needs.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Available Services:</h4>
                            <ul class="feature-list">
                                <li>Policy Information & Updates</li>
                                <li>Premium Payment Assistance</li>
                                <li>Coverage Explanations</li>
                                <li>Document Verification</li>
                                <li>General Inquiries</li>
                                <li>Complaint Resolution</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Service Hours:</h4>
                            <p><strong>Monday - Friday:</strong> 9:00 AM - 6:00 PM<br>
                            <strong>Saturday:</strong> 9:00 AM - 2:00 PM<br>
                            <strong>Emergency Support:</strong> 24/7 Available</p>
                        </div>
                    `
                },
                'digital-hub': {
                    title: ' Digital Services Hub',
                    content: `
                        <div class="feature-info">
                            <h4>Modern Digital Solutions</h4>
                            <p>Experience our state-of-the-art digital services designed to make insurance management simple and efficient.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Digital Services:</h4>
                            <ul class="feature-list">
                                <li>Online Policy Management</li>
                                <li>Digital Document Upload</li>
                                <li>E-Payment Gateway</li>
                                <li>Mobile App Integration</li>
                                <li>Virtual Consultations</li>
                                <li>AI-Powered Chatbot Support</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Technology Features:</h4>
                            <p> Secure Cloud Storage<br>
                             Real-time Updates<br>
                             Multi-device Synchronization<br>
                             Advanced Security Protocols</p>
                        </div>
                    `
                },
                'claims-processing': {
                    title: ' Claims Processing Unit',
                    content: `
                        <div class="feature-info">
                            <h4>Efficient Claims Management</h4>
                            <p>Our streamlined claims processing unit ensures quick and fair settlement of your insurance claims.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Claims Services:</h4>
                            <ul class="feature-list">
                                <li>Claim Registration & Tracking</li>
                                <li>Document Assessment</li>
                                <li>Investigation Support</li>
                                <li>Settlement Processing</li>
                                <li>Appeal Handling</li>
                                <li>Status Updates</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Processing Timeline:</h4>
                            <p><strong>Initial Review:</strong> 2-3 Business Days<br>
                            <strong>Investigation:</strong> 7-14 Days<br>
                            <strong>Settlement:</strong> 15-30 Days<br>
                            <strong>Emergency Claims:</strong> Same Day Processing</p>
                        </div>
                    `
                },
                'consultation': {
                    title: ' Consultation Rooms',
                    content: `
                        <div class="feature-info">
                            <h4>Private Consultation Spaces</h4>
                            <p>Comfortable and private consultation rooms for personalized insurance advice and planning.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Consultation Services:</h4>
                            <ul class="feature-list">
                                <li>Policy Planning & Selection</li>
                                <li>Risk Assessment</li>
                                <li>Financial Planning</li>
                                <li>Coverage Review</li>
                                <li>Investment Advice</li>
                                <li>Family Protection Planning</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Booking Information:</h4>
                            <p><strong>Advance Booking:</strong> Recommended<br>
                            <strong>Walk-in:</strong> Subject to Availability<br>
                            <strong>Consultation Duration:</strong> 30-60 Minutes<br>
                            <strong>Cost:</strong> Complimentary for Existing Customers</p>
                        </div>
                    `
                },
                'support-desk': {
                    title: ' 24/7 Support Desk',
                    content: `
                        <div class="feature-info">
                            <h4>Round-the-Clock Assistance</h4>
                            <p>Our 24/7 support desk ensures you always have access to help when you need it most.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Support Channels:</h4>
                            <ul class="feature-list">
                                <li>Phone Support: +91-11-24626190</li>
                                <li>Toll Free: 1800-118-485</li>
                                <li>Live Chat on Website</li>
                                <li>Email Support</li>
                                <li>WhatsApp Business</li>
                                <li>Video Call Support</li>
                                <li>Emergency Hotline</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Response Times:</h4>
                            <p><strong>Phone:</strong> Immediate<br>
                            <strong>Live Chat:</strong> Under 2 Minutes<br>
                            <strong>Email:</strong> Within 4 Hours<br>
                            <strong>Emergency:</strong> Immediate Response</p>
                        </div>
                    `
                },
                'document-center': {
                    title: ' Secure Document Center',
                    content: `
                        <div class="feature-info">
                            <h4>Advanced Document Security</h4>
                            <p>State-of-the-art secure document center with advanced encryption and storage solutions.</p>
                        </div>
                        <div class="feature-info">
                            <h4>Security Features:</h4>
                            <ul class="feature-list">
                                <li>256-bit Encryption</li>
                                <li>Biometric Access Control</li>
                                <li>Fireproof Storage</li>
                                <li>Digital Backup Systems</li>
                                <li>Audit Trail Tracking</li>
                                <li>Compliance Monitoring</li>
                            </ul>
                        </div>
                        <div class="feature-info">
                            <h4>Document Services:</h4>
                            <p> Document Scanning & Digitization<br>
                             Secure Storage & Retrieval<br>
                             Document Verification<br>
                             Archival Services<br>
                             Access Control Management</p>
                        </div>
                    `
                }
            };
            
            return features[featureType] || {
                title: 'Feature Information',
                content: '<p>Information not available for this feature.</p>'
            };
        }

        // Authentication Modal Functions
        function openAuthModal() {
            const modal = document.getElementById('authModal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            // Hide chat bubble when modal opens
            if (chatBubble) {
                chatBubble.style.display = 'none';
            }
        }

        function closeAuthModal() {
            const modal = document.getElementById('authModal');
            const chatBubble = document.querySelector('.chat-bubble');
            
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Show chat bubble again when modal is closed
            if (chatBubble) {
                chatBubble.style.display = 'flex';
            }
        }

        function switchAuthTab(tabType) {
            // Update tab buttons
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update forms
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.remove('active');
            });
            
            if (tabType === 'login') {
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.getElementById('signupForm').classList.add('active');
            }
        }

        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert(' Please fill in all required fields!');
                return;
            }

            // Validate email format
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert(' Please enter a valid email address!');
                return;
            }

            // Show loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = ' Authenticating...';
            button.disabled = true;

            // Try backend first, then fallback to demo mode
            fetch('http://localhost:5000/api/auth/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    email: email,
                    password: password
                })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log(' Login response:', data);
                
                // Backend returns: { success: true, message: "...", data: { user: {...}, token: "..." } }
                if (data.success && data.data) {
                    // Store user session
                    localStorage.setItem('userToken', data.data.token);
                    localStorage.setItem('userName', data.data.user.name);
                    localStorage.setItem('userEmail', data.data.user.email);
                    
                    // Success with backend
                    handleSuccessfulLogin(data.data.user.name, email, button, true);
                } else {
                    throw new Error(data.message || 'Backend login failed');
                }
            })
            .catch(error => {
                console.log(' Backend login failed, checking demo credentials:', error.message);
                
                // Fallback to demo mode - check for demo credentials
                setTimeout(() => {
                    // Demo credentials check
                    const demoCredentials = [
                        { email: 'demo@orientalinsurance.com', password: 'demo123', name: 'Demo User' },
                        { email: 'test@example.com', password: 'test123', name: 'Test User' },
                        { email: email, password: password, name: 'Guest User' } // Allow any credentials in demo
                    ];
                    
                    const validDemo = demoCredentials.find(cred => 
                        cred.email.toLowerCase() === email.toLowerCase() && 
                        (cred.password === password || password.length >= 6)
                    );
                    
                    if (validDemo || password.length >= 6) {
                        // Generate demo token
                        const demoToken = 'demo_token_' + Date.now();
                        const userName = validDemo ? validDemo.name : email.split('@')[0];
                        
                        // Store demo user session
                        localStorage.setItem('userToken', demoToken);
                        localStorage.setItem('userName', userName);
                        localStorage.setItem('userEmail', email);
                        localStorage.setItem('loginDate', new Date().toISOString());
                        localStorage.setItem('isDemoMode', 'true');
                        
                        // Success with demo mode
                        handleSuccessfulLogin(userName, email, button, false);
                    } else {
                        // Invalid demo credentials
                        button.innerHTML = originalText;
                        button.disabled = false;
                        alert(' Invalid credentials. For demo access, use:\n\nEmail: demo@orientalinsurance.com\nPassword: demo123\n\nOr any valid email with 6+ character password.');
                    }
                }, 1000); // Simulate network delay
            });
        }

        function handleSuccessfulLogin(userName, email, button, isBackendMode) {
            // Reset button
            button.innerHTML = ' Login Successful!';
            button.disabled = false;
            
            const modeText = isBackendMode ? 'with backend server' : 'in demo mode';
            console.log(` User logged in successfully ${modeText}:`, { userName, email });
            
            // Show success message
            const welcomeMessage = ` Welcome back to Oriental Insurance Virtual Office!
            
 Login Successful!
Name: ${userName}
Email: ${email}

${isBackendMode ? 
    ' Connected to backend server' : 
    ' Demo mode activated - All features available'
}

 Access your virtual office services:
 View Your Policies
 Track Claims  
 Customer Support
 Account Management

Click OK to enter your virtual office!`;

            alert(welcomeMessage);
            
            // Close auth modal
            closeAuthModal();
            
            // Brief delay then show office access
            setTimeout(() => {
                const accessMsg = ` Oriental Insurance Virtual Office
                
Welcome back, ${userName}! 

You're now logged in. Navigate through:
 Office Doors for Different Services
 Policy Management
 Claim Processing
 Customer Support

Your session is secure and ready to use!`;
                
                alert(accessMsg);
                
                // Update UI for logged-in user
                updateUIForLoggedInUser(userName, email);
                
            }, 500);
        }

        function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (!name || !email || !phone || !password || !confirmPassword) {
                alert(' Please fill in all required fields!');
                return;
            }

            if (password !== confirmPassword) {
                alert(' Passwords do not match!');
                return;
            }

            if (password.length < 6) {
                alert(' Password must be at least 6 characters long!');
                return;
            }

            // Validate email format
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert(' Please enter a valid email address!');
                return;
            }

            // Validate phone format (basic)
            const phoneRegex = /^[+]?[\d\s\-\(\)]+$/;
            if (!phoneRegex.test(phone) || phone.length < 10) {
                alert(' Please enter a valid phone number!');
                return;
            }

            // Show loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = ' Creating Account...';
            button.disabled = true;

            // Try backend first, then fallback to demo mode
            fetch('http://localhost:5000/api/auth/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name: name,
                    email: email,
                    phone: phone,
                    password: password
                })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log(' Registration response:', data);
                
                // Backend returns: { success: true, message: "...", data: { user: {...}, token: "..." } }
                if (data.success && data.data) {
                    // Store user session
                    localStorage.setItem('userToken', data.data.token);
                    localStorage.setItem('userName', data.data.user.name);
                    localStorage.setItem('userEmail', data.data.user.email);
                    
                    // Success with backend
                    handleSuccessfulSignup(name, email, button, true);
                } else {
                    throw new Error(data.message || 'Backend registration failed');
                }
            })
            .catch(error => {
                console.log(' Backend signup failed, using demo mode:', error.message);
                
                // Fallback to demo mode - simulate successful registration
                setTimeout(() => {
                    // Generate demo token
                    const demoToken = 'demo_token_' + Date.now();
                    
                    // Store demo user session
                    localStorage.setItem('userToken', demoToken);
                    localStorage.setItem('userName', name);
                    localStorage.setItem('userEmail', email);
                    localStorage.setItem('userPhone', phone);
                    localStorage.setItem('registrationDate', new Date().toISOString());
                    localStorage.setItem('isDemoMode', 'true');
                    
                    // Success with demo mode
                    handleSuccessfulSignup(name, email, button, false);
                }, 1000); // Simulate network delay
            });
        }

        function handleSuccessfulSignup(name, email, button, isBackendMode) {
            // Reset button
            button.innerHTML = ' Account Created Successfully!';
            button.disabled = false;
            
            const modeText = isBackendMode ? 'with backend server' : 'in demo mode';
            console.log(` User registered successfully ${modeText}:`, { name, email });
            
            // Show success message
            const welcomeMessage = ` Welcome to Oriental Insurance Virtual Office!
            
 Account Created Successfully!
Name: ${name}
Email: ${email}

${isBackendMode ? 
    ' Connected to backend server' : 
    ' Demo mode activated - All features available'
}

 You can now access all virtual office services:
 Policy Management
 Claim Processing  
 Customer Support
 Document Services

Click OK to enter your virtual office!`;

            alert(welcomeMessage);
            
            // Close auth modal and show success
            closeAuthModal();
            
            // Brief delay then show welcome to virtual office
            setTimeout(() => {
                const successMsg = ` Oriental Insurance Virtual Office
                
Welcome ${name}! 

Your account is ready. You now have access to:
 All Insurance Services
 Secure Dashboard  
 24/7 Support
 Mobile Features

Enjoy your virtual office experience!`;
                
                alert(successMsg);
                
                // Update UI to show logged in state if needed
                updateUIForLoggedInUser(name, email);
                
            }, 500);
        }

        function updateUIForLoggedInUser(name, email) {
            // Update any UI elements to reflect logged-in state
            console.log(' Updating UI for logged-in user:', name);
            
            // You can add UI updates here like:
            // - Show user name in header
            // - Enable additional features
            // - Update navigation
            
            // For now, just log the successful state
            console.log(' User session active:', {
                name: name,
                email: email,
                token: localStorage.getItem('userToken'),
                isDemoMode: localStorage.getItem('isDemoMode') === 'true'
            });
        }

        function socialLogin(provider) {
            console.log(` Initiating ${provider} login...`);
            
            // Show loading state
            event.target.innerHTML = ` Connecting to ${provider.charAt(0).toUpperCase() + provider.slice(1)}...`;
            event.target.disabled = true;

            // Simulate social login
            setTimeout(() => {
                // Reset button
                if (provider === 'google') {
                    event.target.innerHTML = ' Continue with Google';
                } else {
                    event.target.innerHTML = ' Continue with Facebook';
                }
                event.target.disabled = false;
                
                // Show success message
                alert(` ${provider.charAt(0).toUpperCase() + provider.slice(1)} login successful!`);
                
                // Close auth modal and open door modal
                closeAuthModal();
                setTimeout(() => {
                    openDetailModal('door');
                }, 300);
            }, 1500);
        }
        
        // EMERGENCY FIX: Initialize click handlers when page loads
        // MASTER INITIALIZATION - Single source of truth for all click handlers
        document.addEventListener('DOMContentLoaded', function() {
            console.log(' MASTER INIT: Oriental Insurance Virtual Office starting...');
            
            // Clear any existing handlers first
            const allClickableElements = document.querySelectorAll('[onclick], .nav-card, .office-door, .chat-bubble');
            console.log(` Cleaning up ${allClickableElements.length} existing click handlers...`);
            
            // Remove conflicting onclick attributes and add fresh event listeners
            setTimeout(() => {
                initializeAllClickHandlers();
            }, 100);
        });

        function initializeAllClickHandlers() {
            console.log(' MASTER INIT: Setting up all click handlers...');
            
            // 1. DOOR FUNCTIONALITY
            const door = document.querySelector('.office-door');
            if (door) {
                console.log(' Setting up door click handler...');
                door.style.cursor = 'pointer';
                door.style.pointerEvents = 'auto';
                
                // Remove existing onclick and add new event listener
                door.removeAttribute('onclick');
                
                // Clone and replace to remove all existing listeners
                const newDoor = door.cloneNode(true);
                door.parentNode.replaceChild(newDoor, door);
                
                newDoor.addEventListener('click', function(e) {
                    console.log(' Door clicked via addEventListener!');
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    
                    // Hide chat bubble
                    const chatBubble = document.querySelector('.chat-bubble');
                    if (chatBubble) {
                        chatBubble.style.display = 'none';
                        console.log(' Chat bubble hidden');
                    }
                    
                    try {
                        openAuthModal();
                        console.log(' Door: Auth modal opened');
                    } catch (error) {
                        console.error(' Door: Error opening auth modal:', error);
                        alert(' Door clicked! Opening authentication...');
                    }
                    
                    return false;
                });
                
                console.log(' Door click handler set up successfully');
            } else {
                console.error(' Door element not found');
            }
            
            // 2. NAVIGATION CARDS
            const navCards = document.querySelectorAll('.nav-card');
            console.log(` Setting up ${navCards.length} navigation cards...`);
            
            navCards.forEach((card, index) => {
                card.style.cursor = 'pointer';
                card.style.pointerEvents = 'auto';
                
                // Remove existing onclick
                card.removeAttribute('onclick');
                
                // Clone and replace to remove all existing listeners  
                const newCard = card.cloneNode(true);
                card.parentNode.replaceChild(newCard, card);
                
                const modalTypes = ['policies', 'claims', 'support'];
                const modalType = modalTypes[index];
                
                newCard.addEventListener('click', function(e) {
                    console.log(` Nav card ${index} (${modalType}) clicked!`);
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    
                    try {
                        openDetailModal(modalType);
                        console.log(` ${modalType} modal opened`);
                    } catch (error) {
                        console.error(` Error opening ${modalType} modal:`, error);
                        alert(` ${modalType.toUpperCase()} section clicked!`);
                    }
                    
                    return false;
                });
                
                console.log(` Nav card ${index} (${modalType}) set up successfully`);
            });
            
            // 3. CHAT BUBBLE
            const chatBubble = document.querySelector('.chat-bubble');
            if (chatBubble) {
                console.log(' Setting up chat bubble...');
                chatBubble.style.cursor = 'pointer';
                chatBubble.style.pointerEvents = 'auto';
                
                // Remove existing onclick
                chatBubble.removeAttribute('onclick');
                
                // Clone and replace to remove all existing listeners
                const newChatBubble = chatBubble.cloneNode(true);
                chatBubble.parentNode.replaceChild(newChatBubble, chatBubble);
                
                newChatBubble.addEventListener('click', function(e) {
                    console.log(' Chat bubble clicked!');
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    
                    try {
                        interactWithAssistant();
                        console.log(' Assistant interaction started');
                    } catch (error) {
                        console.error(' Error starting assistant:', error);
                        alert(' Hello! How can I assist you today?');
                    }
                    
                    return false;
                });
                
                console.log(' Chat bubble set up successfully');
            } else {
                console.error(' Chat bubble not found');
            }
            
            // 4. INITIALIZE DOOR SPECIFIC FUNCTIONALITY
            initializeDoor();
            
            // 5. ADD HOVER EFFECTS
            addHoverEffects();
            
            console.log(' MASTER INIT: All click handlers initialized successfully!');
            
            // Test click functionality
            setTimeout(() => {
                testClickFunctionality();
            }, 500);
        }

        function addHoverEffects() {
            // Add hover effects to navigation cards
            document.querySelectorAll('.nav-card').forEach((card) => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                    this.style.transition = 'all 0.3s ease';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
            
            // Add hover effects to door
            const door = document.querySelector('.office-door');
            if (door) {
                door.addEventListener('mouseenter', function() {
                    this.style.filter = 'brightness(1.1) saturate(1.1)';
                    this.style.transition = 'all 0.3s ease';
                });
                
                door.addEventListener('mouseleave', function() {
                    this.style.filter = 'brightness(1) saturate(1)';
                });
            }
            
            console.log(' Hover effects added');
        }

        function testClickFunctionality() {
            console.log(' Testing click functionality...');
            
            const door = document.querySelector('.office-door');
            const navCards = document.querySelectorAll('.nav-card');
            const chatBubble = document.querySelector('.chat-bubble');
            
            console.log(' Click Test Results:');
            console.log(` Door: ${door ? ' Found' : ' Not found'}`);
            console.log(` Nav Cards: ${navCards.length > 0 ? ` Found ${navCards.length}` : ' Not found'}`);
            console.log(` Chat Bubble: ${chatBubble ? ' Found' : ' Not found'}`);
            
            if (door && navCards.length > 0 && chatBubble) {
                console.log(' ALL ELEMENTS READY FOR CLICKING!');
            } else {
                console.error(' Some elements missing - click functionality may be limited');
                
                if (navCards.length === 0) {
                    // Try alternative selectors
                    const allCards = document.querySelectorAll('[class*="nav"]');
                    console.log(` Found ${allCards.length} elements with "nav" in class name`);
                    const cards = document.querySelectorAll('[class*="card"]');
                    console.log(` Found ${cards.length} elements with "card" in class name`);
                }
            }
            
            // Emergency fix for orphaned navigation cards code - use existing navCards variable
            navCards.forEach((card, index) => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const modalTypes = ['policies', 'claims', 'support'];
                    console.log(` EMERGENCY: Nav card ${index} clicked, type: ${modalTypes[index]}`);
                    
                    // Try to call modal function if it exists
                    try {
                        if (typeof openDetailModal === 'function') {
                            openDetailModal(modalTypes[index]);
                        } else {
                            console.log(' openDetailModal function not found');
                        }
                    } catch (error) {
                        console.log(' Error calling openDetailModal:', error);
                    }
                });
                console.log(` Nav card ${index} click handler added successfully`);
            });
            
            // Add click handler to chat bubble - use existing chatBubble variable
            if (chatBubble) {
                console.log(' EMERGENCY: Chat bubble found, adding click handler');
                chatBubble.style.cursor = 'pointer';
                chatBubble.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log(' EMERGENCY: Chat bubble clicked!');
                    
                    // Try to call assistant function if it exists
                    try {
                        if (typeof interactWithAssistant === 'function') {
                            interactWithAssistant();
                        } else {
                            console.log(' interactWithAssistant function not found');
                        }
                    } catch (error) {
                        console.log(' Error calling interactWithAssistant:', error);
                    }
                });
                console.log(' Chat bubble click handler added successfully');
            } else {
                console.log(' Chat bubble element not found with selector .chat-bubble');
                // Try alternative selectors
                const bubbles = document.querySelectorAll('[class*="chat"]');
                console.log(` Found ${bubbles.length} elements with "chat" in class name`);
            }
            
            // Add general click test to any clickable element
            const allClickable = document.querySelectorAll('[onclick], button, .nav-card, .office-door, .chat-bubble');
            console.log(` Total clickable elements found: ${allClickable.length}`);
            
            // Test if any onclick attributes work
            const onclickElements = document.querySelectorAll('[onclick]');
            console.log(` Elements with onclick attributes: ${onclickElements.length}`);
            
            console.log(' EMERGENCY FIX: All click handlers initialized successfully!');
            console.log(' Click any element to test if JavaScript is working');
        }
        
        // INITIALIZATION COMPLETE - All functionality managed by MASTER INIT above
        console.log(' Oriental Insurance Virtual Office - All systems ready!');
    </script>
</body>
</html>
